<!DOCTYPE html><html lang="en" data-theme="dark"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Angular v21: Zoneless by Default and the Death of Zone.js • Dev|Journal</title><meta name="description" content="TL;DR Angular v21 removes Zone.js from new projects by default, replacing it with a Signal-based reactivity system that eliminates the framework's biggest…"><meta name="keywords" content="Angular, Web Development, Performance, Frontend Architecture"><meta name="author" content="El Mehdi Arezki"><meta property="og:type" content="website"><meta property="og:url" content="https://earezki.com/angular-v21/"><meta property="og:title" content="Angular v21: Zoneless by Default and the Death of Zone.js • Dev|Journal"><meta property="og:site_name" content="Dev|Journal"><meta property="og:description" content="TL;DR Angular v21 removes Zone.js from new projects by default, replacing it with a Signal-based reactivity system that eliminates the framework's biggest…"><meta property="og:image" content="https://earezki.com/assets/og-image-default.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://earezki.com/angular-v21/"><meta name="twitter:title" content="Angular v21: Zoneless by Default and the Death of Zone.js • Dev|Journal"><meta name="twitter:description" content="TL;DR Angular v21 removes Zone.js from new projects by default, replacing it with a Signal-based reactivity system that eliminates the framework's biggest…"><meta name="twitter:image" content="https://earezki.com/assets/og-image-default.jpg"><meta name="twitter:creator" content="@earezki"><link rel="canonical" href="https://earezki.com/angular-v21/"><link rel="icon" type="image/png" href="/assets/favicon_48_d.webp"><link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml"><link rel="dns-prefetch" href="https://cloud.umami.is"><script defer src="https://cloud.umami.is/script.js" data-website-id="4a26531d-1053-4f79-97a6-06a1366aff91"></script><script>
      (function() {
        const theme = localStorage.getItem('theme');
        if (theme) document.documentElement.setAttribute('data-theme', theme);
      })();
    </script><script>
!function(){const o=window.location.pathname;if("/"===o)return;if(/\.\w+$/.test(o))return;const n=o.toLowerCase(),i=n!==o,t=!o.endsWith("/");if(i||t){const o=n+(t?"/":""),i=window.location.origin+o+window.location.search+window.location.hash;window.location.replace(i)}}();
</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Angular v21: Zoneless by Default and the Death of Zone.js","description":"TL;DR Angular v21 removes Zone.js from new projects by default, replacing it with a Signal-based reactivity system that eliminates the framework's biggest…","image":"https://earezki.com/assets/og-image-default.jpg","datePublished":"2025-12-30T00:00:00.000Z","dateModified":"2025-12-30T00:00:00.000Z","author":{"@type":"Person","name":"El Mehdi Arezki","url":"https://earezki.com/about","jobTitle":"Lead Software Engineer","sameAs":["https://github.com/earezki","https://www.linkedin.com/in/mehdi-arezki"]},"publisher":{"@type":"Organization","name":"Dev|Journal","url":"https://earezki.com","logo":{"@type":"ImageObject","url":"https://earezki.com/assets/logo.png"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://earezki.com/angular-v21/"}}</script><link rel="stylesheet" href="/_astro/_slug_.B_eXuGWa.css">
<link rel="stylesheet" href="/_astro/_slug_.CFj9bTVJ.css">
<link rel="stylesheet" href="/_astro/_slug_.BuIxISHP.css"></head> <body> <div id="readingProgress" role="progressbar" aria-label="Reading progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="position:fixed;left:0;top:0;height:3px;background:linear-gradient(90deg,#2563eb,#9333ea);width:0;z-index:999;transition:width .15s ease;"></div> <script type="module">function c(){const t=document.getElementById("readingProgress");if(!t)return;const o=()=>{const e=document.documentElement,r=e.scrollTop||document.body.scrollTop,s=e.scrollHeight-e.clientHeight,n=s>0?r/s*100:0;t.style.width=`${n}%`,t.setAttribute("aria-valuenow",n.toFixed(0))};document.addEventListener("scroll",o,{passive:!0}),o()}c();</script> <header class="site-header container"> <div class="logo-wrap"> <a class="logo" href="/" aria-label="Dev|Journal Home">
Dev|Journal
</a> </div> <!-- Search Box in Header --> <div class="header-search" data-search-api-url="https://api.earezki.com/blog/api/q" data-search-timeout="2000"> <div class="search-box" id="search-box"> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon" aria-hidden="true"> <circle cx="11" cy="11" r="8"></circle> <path d="m21 21-4.35-4.35"></path> </svg> <input type="text" id="search-input" placeholder="Search ..." class="search-input" autocomplete="off" aria-label="Search articles" minlength="3"> <button id="clear-search" class="clear-button" style="display: none;" aria-label="Clear search"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <line x1="18" y1="6" x2="6" y2="18"></line> <line x1="6" y1="6" x2="18" y2="18"></line> </svg> </button> </div> <div id="search-results" class="search-results" role="status" aria-live="polite"></div> </div> <script type="module" src="/_astro/SearchBox.astro_astro_type_script_index_0_lang.BNnBPVSN.js"></script> <nav class="main-nav" aria-label="Main navigation"> <a href="/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="vertical-align: -2px; margin-right: 4px;"> <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path> <polyline points="9 22 9 12 15 12 15 22"></polyline> </svg>
Home
</a> <a href="/ai-news/" class="ai-news-link ai-gradient-nav"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="vertical-align: -2px; margin-right: 4px;"> <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h-9.5a.5.5 0 0 0-.5.5.5.5 0 0 1-1 0 .5.5 0 0 0-.5-.5H1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"></path> <path d="M7 15v4a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-4"></path> </svg>
AI News
</a> <a href="/ai-financial-news/" class="ai-financial-link ai-gradient-nav"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="vertical-align: -2px; margin-right: 4px;"> <line x1="12" y1="1" x2="12" y2="23"></line> <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path> </svg>
AI Financial
</a> <a href="/about/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="vertical-align: -2px; margin-right: 4px;"> <circle cx="12" cy="12" r="10"></circle> <path d="M12 16v-4"></path> <path d="M12 8h.01"></path> </svg>
About
</a> <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark mode"> <span class="theme-icon" aria-hidden="true">☾</span> </button> </nav> </header> <!-- Main Content --> <main class="container content-area">  <nav class="breadcrumbs" aria-label="Breadcrumb" data-astro-cid-ilhxcym7> <ol data-astro-cid-ilhxcym7> <li data-astro-cid-ilhxcym7>  <a href="/" data-astro-cid-ilhxcym7>Home</a> <span class="separator" aria-hidden="true" data-astro-cid-ilhxcym7>/</span>  </li><li data-astro-cid-ilhxcym7> <span class="current" aria-current="page" data-astro-cid-ilhxcym7>Angular v21: Zoneless by Default and the Death of Zone.js</span> </li> <li data-astro-cid-ilhxcym7> <span class="new-badge-breadcrumb" data-astro-cid-ilhxcym7>NEW</span> </li> </ol> </nav>  <div class="post-layout" data-astro-cid-yvbahnfj> <aside class="sidebar-left" data-astro-cid-yvbahnfj> <nav class="toc" aria-label="Table of Contents" data-astro-cid-xvrfupwn> <div class="toc-title" data-astro-cid-xvrfupwn>On this page</div> <ul data-astro-cid-xvrfupwn> <li class="d-2" data-astro-cid-xvrfupwn> <a href="#tldr" data-astro-cid-xvrfupwn> TL;DR </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#zoneless-the-100kb-bundle-you-no-longer-need" data-astro-cid-xvrfupwn> Zoneless: The 100KB Bundle You No longer Need </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#how-signal-based-rendering-actually-works" data-astro-cid-xvrfupwn> How Signal-Based Rendering Actually Works </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#migrating-existing-apps" data-astro-cid-xvrfupwn> Migrating Existing Apps </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#signal-forms-model-first-validation-second" data-astro-cid-xvrfupwn> Signal Forms: Model-First, Validation-Second </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#the-form-primitive" data-astro-cid-xvrfupwn> The form() Primitive </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#schema-based-validation" data-astro-cid-xvrfupwn> Schema-Based Validation </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#dynamic-forms-arrays-are-actually-easy-now" data-astro-cid-xvrfupwn> Dynamic Forms (Arrays) Are Actually Easy Now </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#incremental-hydration-fixing-the-ssr-uncanny-valley" data-astro-cid-xvrfupwn> Incremental Hydration: Fixing the SSR Uncanny Valley </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#hydration-triggers" data-astro-cid-xvrfupwn> Hydration Triggers </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#event-replay" data-astro-cid-xvrfupwn> Event Replay </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#per-route-rendering-modes" data-astro-cid-xvrfupwn> Per-Route Rendering Modes </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#vitest-karma-is-finally-dead" data-astro-cid-xvrfupwn> Vitest: Karma is Finally Dead </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#migration-path" data-astro-cid-xvrfupwn> Migration Path </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#hmr-that-actually-works" data-astro-cid-xvrfupwn> HMR That Actually Works </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#ai-integration-your-cli-as-an-mcp-server" data-astro-cid-xvrfupwn> AI Integration: Your CLI as an MCP Server </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#setup" data-astro-cid-xvrfupwn> Setup </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#angulararia-headless-accessible-ui" data-astro-cid-xvrfupwn> @angular/aria: Headless Accessible UI </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#template-syntax-improvements" data-astro-cid-xvrfupwn> Template Syntax Improvements </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#httpresource-declarative-data-fetching" data-astro-cid-xvrfupwn> httpResource: Declarative Data Fetching </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#migration-strategy-for-production-apps" data-astro-cid-xvrfupwn> Migration Strategy for Production Apps </a> </li><li class="d-2" data-astro-cid-xvrfupwn> <a href="#final-thoughts" data-astro-cid-xvrfupwn> Final Thoughts </a> </li> </ul> </nav>  </aside> <article class="post" data-astro-cid-yvbahnfj> <header class="post-header" data-astro-cid-yvbahnfj> <h1 data-astro-cid-yvbahnfj>Angular v21: Zoneless by Default and the Death of Zone.js</h1> <div class="meta" data-astro-cid-yvbahnfj> <time datetime="2025-12-30T00:00:00.000Z" data-astro-cid-yvbahnfj>Tue Dec 30 2025</time> <span data-astro-cid-yvbahnfj>• 10 min read</span> </div> <div class="tag-row" data-astro-cid-yvbahnfj><a class="post-tag  " href="/tags/angular/" data-astro-cid-yvbahnfj>Angular</a><a class="post-tag  " href="/tags/web-development/" data-astro-cid-yvbahnfj>Web Development</a><a class="post-tag  " href="/tags/performance/" data-astro-cid-yvbahnfj>Performance</a><a class="post-tag  " href="/tags/frontend-architecture/" data-astro-cid-yvbahnfj>Frontend Architecture</a></div> </header> <div class="banner warning" role="alert"> <div class="banner-icon" aria-hidden="true">⚠️</div> <div class="banner-content"> <strong>This article is not yet published</strong> <p>Publishing in 4 days. This page is accessible but won't appear in post listings until the publication date.</p> </div> </div>    <div class="post-body prose" data-astro-cid-yvbahnfj> <h2 id="tldr">TL;DR</h2>
<p>Angular v21 removes Zone.js from new projects by default, replacing it with a Signal-based reactivity system that eliminates the framework’s biggest performance bottleneck. Signal Forms (experimental) unifies data models and form state, killing the boilerplate of Reactive Forms. Incremental hydration solves the SSR “uncanny valley” where pages look interactive but aren’t. Vitest replaces Karma as the default test runner, cutting test execution time by 60-80%. The framework also ships an MCP server that lets AI coding assistants understand your project structure, and a headless <code>@angular/aria</code> package for accessible UI components. For teams running Angular at scale, v21 is the most significant release since the 2016 rewrite.</p>
<hr>
<h2 id="zoneless-the-100kb-bundle-you-no-longer-need">Zoneless: The 100KB Bundle You No longer Need</h2>
<p>Zone.js has been Angular’s dirty secret since 2016. It monkey-patches every async API in the browser, <code>setTimeout</code>, <code>Promise.then</code>, <code>XMLHttpRequest</code>, DOM events, to intercept callbacks and trigger change detection. This “magic” came at a brutal cost:</p>
<p><strong>Performance</strong>: A single scroll event could trigger dirty-checking across thousands of components, even if nothing actually changed. In heavy dashboards with real-time data feeds, Zone-based apps would drop from 60 FPS to 45 FPS under load.</p>
<p><strong>Bundle size</strong>: 100KB uncompressed. For performance-sensitive apps, that’s a non-trivial tax.</p>
<p><strong>Debugging hell</strong>: Stack traces polluted with Zone internals. Good luck finding where your error actually originated.</p>
<p><strong>Global state mutation</strong>: Patching global browser APIs is an anti-pattern that can conflict with other libraries.</p>
<p>Angular v21 makes new projects <strong>zoneless by default</strong>. No more Zone.js. No more implicit change detection. The framework now relies on <strong>Signals</strong>, explicit, fine-grained reactive primitives that notify Angular exactly which components changed.</p>
<h3 id="how-signal-based-rendering-actually-works">How Signal-Based Rendering Actually Works</h3>
<p>When a component template reads a Signal, Angular registers that view as a dependency:</p>
<pre class="language-typescript" data-language="typescript"><code is:raw="" class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token operator">:</span> \`<span class="token operator">&#x3C;</span>div<span class="token operator">></span>Count<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>\`
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">CounterComponent</span> <span class="token punctuation">{</span>
  count <span class="token operator">=</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Notifies Angular</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>When <code>count.set()</code> is called, Angular knows precisely which DOM nodes depend on that Signal. It schedules a render pass <strong>only for those nodes</strong>, no top-down tree traversal, no wasted cycles checking components that didn’t change.</p>
<p>This shifts from O(n) complexity (where n = total components) to O(m) (where m = components that actually changed). For enterprise dashboards with 500+ components, this is the difference between a responsive UI and a laggy one.</p>
<h3 id="migrating-existing-apps">Migrating Existing Apps</h3>
<p>For existing apps, enable zoneless via <code>provideZonelessChangeDetection()</code>:</p>
<pre class="language-typescript" data-language="typescript"><code is:raw="" class="language-typescript"><span class="token comment">// app.config.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> provideZonelessChangeDetection <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> appConfig<span class="token operator">:</span> ApplicationConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">provideZonelessChangeDetection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">provideRouter</span><span class="token punctuation">(</span>routes<span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Then delete <code>zone.js</code> from <code>angular.json</code> polyfills and remove the import from <code>polyfills.ts</code>.</p>
<p><strong>The catch</strong>: Code relying on implicit change detection (e.g., <code>setTimeout(() => this.data = newData)</code>) won’t trigger updates anymore. You have three options:</p>
<ol>
<li><strong>Use Signals</strong> (preferred): Wrap state in <code>signal()</code> and update via <code>.set()</code> or <code>.update()</code></li>
<li><strong>Keep using RxJS + AsyncPipe</strong>: The pipe calls <code>markForCheck()</code> internally</li>
<li><strong>Manual marking</strong>: Call <code>ChangeDetectorRef.markForCheck()</code> explicitly</li>
</ol>
<p>Event listeners (<code>(click)</code>) and <code>@Input()</code> changes still trigger detection automatically.</p>
<hr>
<h2 id="signal-forms-model-first-validation-second">Signal Forms: Model-First, Validation-Second</h2>
<p>Reactive Forms have been Angular’s standard for complex form logic since day one. But they suffer from architectural baggage:</p>
<p><strong>Synchronization drift</strong>: You maintain two separate objects, the form model (<code>FormGroup</code>) and your domain model. Keeping them in sync is manual and error-prone.</p>
<p><strong>Type safety theater</strong>: Even with strict typing, you’re calling imperative methods like <code>.setValue()</code> and <code>.patchValue()</code>.</p>
<p><strong>RxJS friction</strong>: To react to changes, you subscribe to <code>valueChanges</code> (an Observable), then convert it to a Signal with <code>toSignal()</code>. This creates unnecessary adapters.</p>
<p>Angular v21 introduces <strong>Signal Forms</strong> (experimental), which inverts the relationship: <strong>your data model is the source of truth</strong>, and the form is just a projection of it.</p>
<h3 id="the-form-primitive">The form() Primitive</h3>
<p>Instead of creating a <code>FormGroup</code> and stuffing data into it, you define your model as a Signal and derive the form from it:</p>
<pre class="language-typescript" data-language="typescript"><code is:raw="" class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> signal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> form<span class="token punctuation">,</span> Field <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms/signals'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token operator">:</span> \`
    <span class="token operator">&#x3C;</span>form<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> <span class="token punctuation">[</span>field<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"regForm.username"</span><span class="token operator">></span>
      @<span class="token keyword">if</span> <span class="token punctuation">(</span>regForm<span class="token punctuation">.</span><span class="token function">username</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">touched</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&#x26;&#x26;</span> regForm<span class="token punctuation">.</span><span class="token function">username</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">invalid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token operator">&#x3C;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"error"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> regForm<span class="token punctuation">.</span><span class="token function">username</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">errors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?.</span>required<span class="token operator">?.</span>message <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&#x3C;</span><span class="token operator">/</span>span<span class="token operator">></span>
      <span class="token punctuation">}</span>
      <span class="token operator">&#x3C;</span>button <span class="token punctuation">[</span>disabled<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"regForm.invalid()"</span><span class="token operator">></span>Register<span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>form<span class="token operator">></span>
  \`
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">RegistrationComponent</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. Your domain model</span>
  userModel <span class="token operator">=</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token punctuation">{</span> username<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> email<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 2. The form is derived from the model</span>
  regForm <span class="token operator">=</span> <span class="token function">form</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>When the user types in the input, <code>userModel</code> updates automatically. When <code>userModel</code> updates programmatically, the form reflects it. No <code>.patchValue()</code> calls. No manual synchronization.</p>
<h3 id="schema-based-validation">Schema-Based Validation</h3>
<p>Validation decouples from the form control and moves to reusable schemas:</p>
<pre class="language-typescript" data-language="typescript"><code is:raw="" class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> schema<span class="token punctuation">,</span> required<span class="token punctuation">,</span> minLength<span class="token punctuation">,</span> email <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/forms/signals'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> userSchema <span class="token operator">=</span> <span class="token function">schema</span><span class="token punctuation">(</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">required</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>username<span class="token punctuation">,</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">'Username required'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">minLength</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>username<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">'Too short'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">email</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>email<span class="token punctuation">,</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">'Invalid email'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myForm <span class="token operator">=</span> <span class="token function">form</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">,</span> userSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>This aligns Angular with libraries like Zod or Yup. You can define schemas in shared domain logic and apply them to both frontend and backend (if both use TypeScript).</p>
<h3 id="dynamic-forms-arrays-are-actually-easy-now">Dynamic Forms (Arrays) Are Actually Easy Now</h3>
<p>Handling <code>FormArray</code> in Reactive Forms required verbose index management. Signal Forms treat arrays as just another value:</p>
<pre class="language-typescript" data-language="typescript"><code is:raw="" class="language-typescript">tasks <span class="token operator">=</span> <span class="token generic-function"><span class="token function">signal</span><span class="token generic class-name"><span class="token operator">&#x3C;</span>Task<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
taskForm <span class="token operator">=</span> <span class="token function">form</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tasks<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">addTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tasks<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>current <span class="token operator">=></span> <span class="token punctuation">[</span><span class="token operator">...</span>current<span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> done<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Form automatically expands</span>
<span class="token punctuation">}</span>

<span class="token function">removeTask</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tasks<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>current <span class="token operator">=></span> current<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> i <span class="token operator">!==</span> index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Form automatically shrinks</span>
<span class="token punctuation">}</span>
</code></pre>
<p>No manual control pushing/popping. The form structure follows the data structure.</p>
<hr>
<h2 id="incremental-hydration-fixing-the-ssr-uncanny-valley">Incremental Hydration: Fixing the SSR Uncanny Valley</h2>
<p>Traditional SSR suffers from a critical UX flaw: the page loads instantly (HTML from the server), but during hydration, while the browser downloads and executes JavaScript, it enters the <strong>“uncanny valley”</strong>. The page looks interactive, but clicking buttons does nothing because event listeners haven’t attached yet.</p>
<p>This kills your <strong>Interaction to Next Paint (INP)</strong> metric. Users rage-click, bounce, complain.</p>
<p>Angular v21 ships <strong>incremental hydration</strong>, which hydrates the app in chunks based on priority, not all at once.</p>
<h3 id="hydration-triggers">Hydration Triggers</h3>
<p>You wrap components in <code>@defer</code> blocks and specify when to hydrate:</p>
<pre class="language-html" data-language="html"><code is:raw="" class="language-html">@defer (hydrate on interaction) {
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>heavy-chart</span> <span class="token attr-name">[data]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>salesData<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
} @placeholder {
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chart-preview<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>static-preview.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Preview<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span><span class="token punctuation">></span></span>Load Interactive Chart<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
}
</code></pre>
<p>Available triggers:</p>



































<table><thead><tr><th>Trigger</th><th>When it hydrates</th><th>Use case</th></tr></thead><tbody><tr><td>`on idle`</td><td>Browser main thread is free</td><td>Footer, secondary content</td></tr><tr><td>`on viewport`</td><td>Element enters visible area</td><td>Long lists, galleries</td></tr><tr><td>`on interaction`</td><td>User clicks/focuses</td><td>Heavy widgets, charts</td></tr><tr><td>`on hover`</td><td>Mouse moves over area</td><td>Dropdowns, tooltips</td></tr><tr><td>`on immediate`</td><td>After critical rendering</td><td>Core navigation</td></tr></tbody></table>
<h3 id="event-replay">Event Replay</h3>
<p>To fully close the uncanny valley, v21 enables <strong>Event Replay</strong> by default. If a user clicks a button before hydration completes, Angular captures that event and replays it once the JavaScript loads. User intent is never lost.</p>
<p>This uses a tiny inlined script (derived from Google Search’s infrastructure) to queue events. The overhead is ~2KB.</p>
<h3 id="per-route-rendering-modes">Per-Route Rendering Modes</h3>
<p>You can now mix Static Site Generation (SSG), Server-Side Rendering (SSR), and Client-Side Rendering (CSR) in a single app via <code>ServerRoute</code> config:</p>
<pre class="language-typescript" data-language="typescript"><code is:raw="" class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> serverRouteConfig<span class="token operator">:</span> ServerRoute<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/blog/**'</span><span class="token punctuation">,</span> renderMode<span class="token operator">:</span> <span class="token string">'prerender'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token comment">// SSG</span>
  <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/dashboard'</span><span class="token punctuation">,</span> renderMode<span class="token operator">:</span> <span class="token string">'server'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>       <span class="token comment">// SSR</span>
  <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/admin'</span><span class="token punctuation">,</span> renderMode<span class="token operator">:</span> <span class="token string">'client'</span> <span class="token punctuation">}</span>            <span class="token comment">// CSR</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>This gives you granular control over performance vs. interactivity trade-offs.</p>
<hr>
<h2 id="vitest-karma-is-finally-dead">Vitest: Karma is Finally Dead</h2>
<p>Angular has shipped with Karma as the test runner since 2012. Karma launches an actual browser to run tests, which made sense when browser APIs were unpredictable. In 2025, it’s just slow.</p>
<p>Angular v21 adopts <strong>Vitest</strong> as the default test runner. Vitest runs in Node.js using <code>jsdom</code> to simulate the DOM, avoiding the overhead of launching Chrome. Test execution is <strong>60-80% faster</strong>.</p>
<h3 id="migration-path">Migration Path</h3>
<p>For existing projects, run:</p>
<pre class="language-bash" data-language="bash"><code is:raw="" class="language-bash">ng g @schematics/angular:refactor-jasmine-vitest
</code></pre>
<p>This automates syntax changes (e.g., <code>spyOn</code> → <code>vi.spyOn</code>). But be aware:</p>
<ul>
<li><code>vi.fn()</code> behaves differently than Jasmine spies for deeply nested object mocking</li>
<li>Some Jasmine-specific matchers don’t have direct Vitest equivalents</li>
</ul>
<p>Configuration is straightforward:</p>
<pre class="language-typescript" data-language="typescript"><code is:raw="" class="language-typescript"><span class="token comment">// vitest.config.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> angular <span class="token keyword">from</span> <span class="token string">'@analogjs/vite-plugin-angular'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">angular</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  test<span class="token operator">:</span> <span class="token punctuation">{</span>
    globals<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    environment<span class="token operator">:</span> <span class="token string">'jsdom'</span><span class="token punctuation">,</span>
    include<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'src/**/*.{test,spec}.ts'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="hmr-that-actually-works">HMR That Actually Works</h3>
<p>Hot Module Replacement in Angular has always been flaky. Changing a template would often trigger a full page reload, losing form state.</p>
<p>v21 ships <strong>HMR 2.0</strong> by default for styles and templates. The new implementation patches template definitions in the running app without destroying component instances. This preserves Signal state during development, tightening the feedback loop.</p>
<hr>
<h2 id="ai-integration-your-cli-as-an-mcp-server">AI Integration: Your CLI as an MCP Server</h2>
<p>Angular v21 supports the <strong>Model Context Protocol (MCP)</strong>, a standard that lets AI coding assistants (Cursor, Claude, JetBrains AI) query your CLI directly.</p>
<p>When connected, the AI gains “X-ray vision” into your project:</p>
<ul>
<li><strong>Dependency graph</strong>: Which components depend on this service?</li>
<li><strong>Route structure</strong>: How is navigation configured?</li>
<li><strong>Build settings</strong>: What’s in <code>angular.json</code>?</li>
</ul>
<p>This drastically reduces AI hallucinations. Instead of suggesting deprecated patterns (like <code>NgModules</code> in a standalone app), the AI can verify your actual project constraints.</p>
<h3 id="setup">Setup</h3>
<p>Add this to your AI tool’s config (e.g., Claude Desktop):</p>
<pre class="language-json" data-language="json"><code is:raw="" class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"mcpServers"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"angular-cli"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"npx"</span><span class="token punctuation">,</span>
      <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"-y"</span><span class="token punctuation">,</span> <span class="token string">"@angular/cli"</span><span class="token punctuation">,</span> <span class="token string">"mcp"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The AI can now execute <code>ng generate</code> commands, scaffold components, and understand your architecture without guessing.</p>
<hr>
<h2 id="angulararia-headless-accessible-ui">@angular/aria: Headless Accessible UI</h2>
<p>For years, Angular developers faced a choice: use Angular Material (accessible but hard to customize) or build from scratch (flexible but often inaccessible).</p>
<p>Angular v21 introduces <code>@angular/aria</code> (Developer Preview), a <strong>headless UI library</strong> that handles accessibility logic without rendering any DOM or styles.</p>
<p>It provides:</p>
<ul>
<li><strong>Combobox/Autocomplete</strong>: Typing, filtering, arrow-key selection</li>
<li><strong>Listbox/Select</strong>: Single and multi-select with keyboard support</li>
<li><strong>Menu/Menubar</strong>: Nested submenus, focus management</li>
<li><strong>Accordion &#x26; Tabs</strong>: ARIA expansion states</li>
<li><strong>Grid</strong>: 2D keyboard navigation for data tables</li>
</ul>
<p>This lets you ship branded, bespoke UI components that are WCAG-compliant out of the box. For enterprise teams building Design Systems, this eliminates the need to maintain complex a11y logic.</p>
<hr>
<h2 id="template-syntax-improvements">Template Syntax Improvements</h2>
<p>Small but useful quality-of-life upgrades:</p>
<p><strong>Exponentiation operator</strong>:</p>
<pre class="language-html" data-language="html"><code is:raw="" class="language-html">{{ value ** 2 }}  <span class="token comment">&#x3C;!-- No more Math.pow() --></span>
</code></pre>
<p><strong>`in` operator for property checks</strong>:</p>
<pre class="language-html" data-language="html"><code is:raw="" class="language-html">{{ 'id' in user }}  <span class="token comment">&#x3C;!-- Cleaner than user?.id !== undefined --></span>
</code></pre>
<p><strong>Untagged template literals</strong>:</p>
<pre class="language-html" data-language="html"><code is:raw="" class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">[class]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col-\${width}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token comment">&#x3C;!-- Dynamic string composition --></span>
</code></pre>
<hr>
<h2 id="httpresource-declarative-data-fetching">httpResource: Declarative Data Fetching</h2>
<p>The new <code>httpResource</code> API (experimental) simplifies reactive HTTP calls:</p>
<pre class="language-typescript" data-language="typescript"><code is:raw="" class="language-typescript">userId <span class="token operator">=</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
userResource <span class="token operator">=</span> <span class="token function">httpResource</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> \`<span class="token operator">/</span>api<span class="token operator">/</span>users<span class="token operator">/</span>\$<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\`<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// In template:</span>
<span class="token comment">// {{ userResource.value() }}</span>
<span class="token comment">// {{ userResource.isLoading() }}</span>
</code></pre>
<p>When <code>userId</code> changes, the resource cancels pending requests and issues a new one automatically. This eliminates the boilerplate of <code>switchMap</code> and manual subscription management.</p>
<hr>
<h2 id="migration-strategy-for-production-apps">Migration Strategy for Production Apps</h2>
<p><strong>Phase 1: Enable zoneless</strong></p>
<ul>
<li>Add <code>provideZonelessChangeDetection()</code> to <code>app.config.ts</code></li>
<li>Remove Zone.js from <code>angular.json</code> and polyfills</li>
<li>Test thoroughly, watch for <code>setTimeout</code>/<code>Promise</code> code that doesn’t update the UI</li>
</ul>
<p><strong>Phase 2: Audit change detection</strong></p>
<ul>
<li>Search for <code>ChangeDetectorRef.detectChanges()</code> calls</li>
<li>Replace with Signal updates or <code>markForCheck()</code></li>
<li>Convert critical RxJS streams to Signals where it makes sense</li>
</ul>
<p><strong>Phase 3: Migrate to Vitest</strong></p>
<ul>
<li>Run <code>ng g @schematics/angular:refactor-jasmine-vitest</code></li>
<li>Fix any test failures (check spy behavior differences)</li>
<li>Measure test execution time, should drop 60-80%</li>
</ul>
<p><strong>Phase 4: Experiment with Signal Forms</strong></p>
<ul>
<li>Start with new features, not mission-critical forms</li>
<li>Test schema-based validation patterns</li>
<li>Evaluate DX improvement before rolling out widely</li>
</ul>
<p><strong>Phase 5: Incremental hydration</strong></p>
<ul>
<li>Identify heavy components (charts, tables, widgets)</li>
<li>Wrap in <code>@defer (hydrate on interaction/viewport)</code></li>
<li>Monitor INP metrics, should improve by 30-50%</li>
</ul>
<hr>
<h2 id="final-thoughts">Final Thoughts</h2>
<p>Angular v21 isn’t just an incremental update, it’s the completion of a multi-year architectural overhaul. The framework has shed its legacy baggage (Zone.js, NgModules, Karma) and replaced it with modern, performant alternatives (Signals, standalone components, Vitest).</p>
<p>The introduction of Signal Forms and incremental hydration shows Angular isn’t just catching up, it’s pushing boundaries. The MCP integration and <code>@angular/aria</code> package solidify its position as the enterprise framework of choice.</p>
<p>For teams running Angular at scale, v21 is the green light to modernize. The migration path is well-documented, the performance wins are measurable, and the DX improvements are immediate.</p>
<p><strong>Adoption Checklist</strong>:</p>
<ul>
<li>New projects: Use Angular v21 defaults (zoneless, Vitest)</li>
<li>Existing apps: Migrate to zoneless incrementally, starting with low-risk modules</li>
<li>Forms: Experiment with Signal Forms in new features</li>
<li>SSR apps: Enable incremental hydration for heavy components</li>
<li>Testing: Migrate to Vitest, measure the speed improvement</li>
<li>AI workflows: Set up MCP if using AI coding assistants</li>
<li>Accessibility: Evaluate <code>@angular/aria</code> for Design System components</li>
</ul>
<p>The renaissance is complete. Angular is fast, modern, and ready for the next decade of web development.</p> </div>    <section class="related-posts" data-astro-cid-dpgbfi7r> <h2 data-astro-cid-dpgbfi7r>Related Posts</h2> <div class="related-posts-grid" data-astro-cid-dpgbfi7r> <article class="related-post-card" data-astro-cid-dpgbfi7r> <a href="/ai-news/2025-11-01-frontend-performance-optimization-guide/" class="related-post-link" data-astro-cid-dpgbfi7r> <h3 data-astro-cid-dpgbfi7r>Frontend Performance Optimization: Complete Guide to Building Fast Web Apps</h3> <p class="related-excerpt" data-astro-cid-dpgbfi7r>Frontend Performance Optimization: Complete Guide to Building Fast Web Apps Performance is critical for modern web…</p> <div class="related-meta" data-astro-cid-dpgbfi7r> <time datetime="2025-11-01T00:00:00.000Z" data-astro-cid-dpgbfi7r> Nov 1, 2025 </time> <span data-astro-cid-dpgbfi7r>•</span> <span data-astro-cid-dpgbfi7r>19 min read</span> </div> </a> </article><article class="related-post-card" data-astro-cid-dpgbfi7r> <a href="/ai-news/2025-12-11-angular-standalone-component/" class="related-post-link" data-astro-cid-dpgbfi7r> <h3 data-astro-cid-dpgbfi7r>Angular Standalone Components Simplify Application Architecture</h3> <p class="related-excerpt" data-astro-cid-dpgbfi7r>What is a Standalone Component? A standalone component is a self-contained unit in Angular that doesn’t require…</p> <div class="related-meta" data-astro-cid-dpgbfi7r> <time datetime="2025-12-11T00:00:00.000Z" data-astro-cid-dpgbfi7r> Dec 11, 2025 </time> <span data-astro-cid-dpgbfi7r>•</span> <span data-astro-cid-dpgbfi7r>1 min read</span> </div> </a> </article><article class="related-post-card" data-astro-cid-dpgbfi7r> <a href="/ai-news/2025-12-24-devstoolsapp-25-free-dev-tools-100-client-side-no-data-leaves-your-browser/" class="related-post-link" data-astro-cid-dpgbfi7r> <h3 data-astro-cid-dpgbfi7r>DevsTools.app Launches 25+ Client-Side Development Tools</h3> <p class="related-excerpt" data-astro-cid-dpgbfi7r>I launched DevsTools.app: 25+ free dev tools, 100% client-side ⚡️ Hasan Özcan launched DevsTools.app, a collection of…</p> <div class="related-meta" data-astro-cid-dpgbfi7r> <time datetime="2025-12-24T00:00:00.000Z" data-astro-cid-dpgbfi7r> Dec 24, 2025 </time> <span data-astro-cid-dpgbfi7r>•</span> <span data-astro-cid-dpgbfi7r>1 min read</span> </div> </a> </article><article class="related-post-card" data-astro-cid-dpgbfi7r> <a href="/ai-news/2025-12-23-my-website-is-up/" class="related-post-link" data-astro-cid-dpgbfi7r> <h3 data-astro-cid-dpgbfi7r>gokame.com Launch: Seeking Engineering Feedback</h3> <p class="related-excerpt" data-astro-cid-dpgbfi7r>gokame.com Launch: Seeking Engineering Feedback The website gokame.com has been launched by developer MoKi, initiating…</p> <div class="related-meta" data-astro-cid-dpgbfi7r> <time datetime="2025-12-23T00:00:00.000Z" data-astro-cid-dpgbfi7r> Dec 23, 2025 </time> <span data-astro-cid-dpgbfi7r>•</span> <span data-astro-cid-dpgbfi7r>1 min read</span> </div> </a> </article> </div> </section>  </article> </div> <div class="back-link" data-astro-cid-yvbahnfj><a href="/" data-astro-cid-yvbahnfj>← Back to home</a></div>  </main> <!-- Site Footer --> <footer class="site-footer container"> <p>
© 2025 AREZKI El Mehdi •
<a href="https://github.com/earezki">GitHub</a> •
<a href="/rss.xml">RSS</a> •
<a href="/tags/">Tags</a> •
<a href="/sitemap-index.xml">Sitemap</a> •
<button id="footer-subscribe-btn" class="footer-subscribe-btn" aria-label="Subscribe to newsletter">
📬 Subscribe
</button> </p> </footer> <!-- Footer Subscribe Button Handler --> <script type="module">const e=document.getElementById("themeToggle"),o=n=>{if(!e)return;const t=e.querySelector(".theme-icon");t&&(t.textContent=n==="dark"?"☀":"☾")};if(e){const n=document.documentElement.getAttribute("data-theme")||"dark";o(n),e.addEventListener("click",()=>{const t=document.documentElement,c=t.getAttribute("data-theme")==="dark"?"light":"dark";t.setAttribute("data-theme",c),localStorage.setItem("theme",c),o(c)})}</script> <!-- Theme Toggle --> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("footer-subscribe-btn");e&&e.addEventListener("click",n=>{n.preventDefault();const t=document.getElementById("subscription-popup");t&&(t.setAttribute("data-state","visible"),document.body.style.overflow="hidden")})});</script> <!-- Article read/unread tracking --> <script>
      (function() {
        const KEY = 'readArticles';
        
        function getRead() {
          try {
            const d = localStorage.getItem(KEY);
            return d ? JSON.parse(d) : [];
          } catch (e) {
            return [];
          }
        }
        
        function markRead(url) {
          try {
            const read = getRead();
            if (!read.includes(url)) {
              read.push(url);
              localStorage.setItem(KEY, JSON.stringify(read));
            }
          } catch (e) {}
        }
        
        function updateCards() {
          const read = new Set(getRead());
          const cards = document.querySelectorAll('.post-card[data-article-url]');
          cards.forEach(function(card) {
            const url = card.getAttribute('data-article-url');
            if (!url) return;
            const isRead = read.has(url);
            card.classList.toggle('read', isRead);
            card.classList.toggle('unread', !isRead);
          });
        }
        
        function markCurrent() {
          if (document.querySelector('.post-body')) {
            markRead(window.location.pathname);
          }
        }
        
        function init() {
          updateCards();
          markCurrent();
        }
        
        function clearRead(url) {
          try {
            const read = new Set(getRead());
            if (read.has(url)) {
              read.delete(url);
              localStorage.setItem(KEY, JSON.stringify(Array.from(read)));
              updateCards();
            }
          } catch (e) {}
        }
        
        window.clearReadArticle = clearRead;
        document.addEventListener('DOMContentLoaded', init);
        window.addEventListener('pageshow', function(e) {
          if (e.persisted) init();
        });
      })();
    </script> <!-- Clear read button handler --> <script>
      (function() {
        document.addEventListener('click', function(e) {
          var tgt = e.target, btn = null;
          while (tgt && tgt !== document) {
            if (tgt.classList && tgt.classList.contains('clear-read-btn')) {
              btn = tgt;
              break;
            }
            tgt = tgt.parentNode;
          }
          if (!btn) return;
          e.preventDefault();
          e.stopPropagation();
          var url = btn.getAttribute('data-article-url');
          if (url && window.clearReadArticle) window.clearReadArticle(url);
        });
      })();
    </script> <!-- External links open in new tab --> <script>
      (function() {
        function makeExternal() {
          const domain = window.location.hostname;
          const links = document.querySelectorAll('a[href]');
          links.forEach(function(link) {
            const href = link.getAttribute('href');
            if (!href || link.hasAttribute('target')) return;
            const isExt = (href.startsWith('http://') || href.startsWith('https://')) && !href.includes(domain);
            if (isExt) {
              link.setAttribute('target', '_blank');
              link.setAttribute('rel', 'noopener noreferrer');
            }
          });
        }
        document.addEventListener('DOMContentLoaded', makeExternal);
        if (window.MutationObserver) {
          const obs = new MutationObserver(function(muts) {
            muts.forEach(function(mut) {
              if (mut.addedNodes.length) makeExternal();
            });
          });
          obs.observe(document.body, { childList: true, subtree: true });
        }
      })();
    </script> <!-- Code copy buttons --> <script>
      (function() {
        function createBtn() {
          const btn = document.createElement('button');
          btn.className = 'copy-code-button';
          btn.setAttribute('aria-label', 'Copy code to clipboard');
          btn.innerHTML = `
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            <span>Copy</span>
          `;
          return btn;
        }
        
        function checkIcon() {
          return `
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            <span>Copied!</span>
          `;
        }
        
        async function copyText(txt) {
          try {
            await navigator.clipboard.writeText(txt);
            return true;
          } catch (err) {
            const ta = document.createElement('textarea');
            ta.value = txt;
            ta.style.position = 'fixed';
            ta.style.left = '-999999px';
            document.body.appendChild(ta);
            ta.select();
            try {
              document.execCommand('copy');
              document.body.removeChild(ta);
              return true;
            } catch (e) {
              document.body.removeChild(ta);
              return false;
            }
          }
        }
        
        async function handleCopy(btn, code) {
          const txt = code.textContent || '';
          const ok = await copyText(txt);
          if (ok) {
            const orig = btn.innerHTML;
            btn.classList.add('copied');
            btn.innerHTML = checkIcon();
            setTimeout(function() {
              btn.classList.remove('copied');
              btn.innerHTML = orig;
            }, 2000);
          }
        }
        
        function addBtns() {
          const blocks = document.querySelectorAll('.post-body pre');
          blocks.forEach(function(pre) {
            if (pre.querySelector('.copy-code-button')) return;
            const btn = createBtn();
            const code = pre.querySelector('code');
            if (code) {
              btn.addEventListener('click', function() {
                handleCopy(btn, code);
              });
              pre.appendChild(btn);
            }
          });
        }
        
        document.addEventListener('DOMContentLoaded', addBtns);
      })();
    </script> <!-- Newsletter Subscription Popup --> <div id="subscription-popup" class="subscription-popup" data-state="hidden" data-auto-trigger="true" data-astro-cid-we5gmdnp> <div class="popup-overlay" id="popup-overlay" data-astro-cid-we5gmdnp></div> <div class="popup-container" data-astro-cid-we5gmdnp> <div class="popup-content" data-astro-cid-we5gmdnp> <div class="popup-icon" data-astro-cid-we5gmdnp> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-we5gmdnp> <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-astro-cid-we5gmdnp></path> <polyline points="22,6 12,13 2,6" data-astro-cid-we5gmdnp></polyline> </svg> </div> <h2 class="popup-title" data-astro-cid-we5gmdnp>Stay Updated with Dev|Journal</h2> <p class="popup-description" id="popup-description" data-astro-cid-we5gmdnp>
Join our community of developers and engineers. Get insights on:
</p> <ul class="popup-features" data-astro-cid-we5gmdnp> <li data-astro-cid-we5gmdnp> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-we5gmdnp> <polyline points="20 6 9 17 4 12" data-astro-cid-we5gmdnp></polyline> </svg>
Software Architecture & Design Patterns
</li> <li data-astro-cid-we5gmdnp> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-we5gmdnp> <polyline points="20 6 9 17 4 12" data-astro-cid-we5gmdnp></polyline> </svg>
Backend Development Best Practices
</li> <li data-astro-cid-we5gmdnp> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-we5gmdnp> <polyline points="20 6 9 17 4 12" data-astro-cid-we5gmdnp></polyline> </svg>
AI & Tech Industry Analysis
</li> </ul> <form id="subscription-form" class="popup-form" data-astro-cid-we5gmdnp> <div class="form-group" data-astro-cid-we5gmdnp> <input type="text" id="subscriber-name" name="name" placeholder="Your name" required autocomplete="name" data-astro-cid-we5gmdnp> </div> <div class="form-group" data-astro-cid-we5gmdnp> <input type="email" id="subscriber-email" name="email" placeholder="your.email@example.com" required autocomplete="email" data-astro-cid-we5gmdnp> </div> <div id="form-message" class="form-message" data-astro-cid-we5gmdnp></div> <div class="popup-actions" data-astro-cid-we5gmdnp> <button type="submit" class="btn btn-primary" id="subscribe-btn" data-astro-cid-we5gmdnp> <span class="btn-text" data-astro-cid-we5gmdnp>Subscribe</span> <span class="btn-loader" data-astro-cid-we5gmdnp> <svg class="spinner" viewBox="0 0 24 24" data-astro-cid-we5gmdnp> <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" data-astro-cid-we5gmdnp></circle> </svg> </span> </button> <button type="button" class="btn btn-secondary" id="not-now-btn" data-astro-cid-we5gmdnp>Not Now</button> <button type="button" class="btn btn-text" id="cancel-btn" data-astro-cid-we5gmdnp>Don't Show Again</button> </div> </form> </div> </div> </div>  <script>
  // Configuration
  const CONFIG = {
    graceDelay: 5000, // 5 seconds delay before showing popup
    notNowDelay: 24 * 60 * 60 * 1000, // 1 day in milliseconds
    apiUrl: 'https://api.earezki.com/blog/api',
  };

  const STORAGE_KEYS = {
    subscribed: 'newsletter_subscribed',
    cancelled: 'newsletter_cancelled',
    notNowUntil: 'newsletter_not_now_until',
  };

  // State management
  let popupTimeout = null;

  function showPopup() {
    const popup = document.getElementById('subscription-popup');
    if (popup) {
      popup.setAttribute('data-state', 'visible');
      document.body.style.overflow = 'hidden';
    }
  }

  function hidePopup() {
    const popup = document.getElementById('subscription-popup');
    if (popup) {
      popup.setAttribute('data-state', 'hidden');
      document.body.style.overflow = '';
    }
  }

  function shouldShowPopup() {
    // Check if user has already subscribed
    if (localStorage.getItem(STORAGE_KEYS.subscribed) === 'true') {
      return false;
    }

    // Check if user clicked "Don't show again"
    if (localStorage.getItem(STORAGE_KEYS.cancelled) === 'true') {
      return false;
    }

    // Check if user clicked "Not now" and delay hasn't passed
    const notNowUntil = localStorage.getItem(STORAGE_KEYS.notNowUntil);
    if (notNowUntil) {
      const notNowTime = parseInt(notNowUntil, 10);
      if (Date.now() < notNowTime) {
        return false;
      }
    }

    return true;
  }

  async function getSubscriberStats() {
    try {
      const response = await fetch(`${CONFIG.apiUrl}/subscribers/stats`, {
        method: 'GET',
        headers: {
          'Accept': 'application/json',
        },
      });
      
      if (!response.ok) {
        return null;
      }
      
      const data = await response.json();
      return data.subscriber_count || null;
    } catch (error) {
      console.error('Failed to fetch subscriber stats:', error);
      return null;
    }
  }

  async function schedulePopup() {
    if (!shouldShowPopup()) {
      return;
    }

    // Fetch subscriber stats before scheduling popup
    const subscriberCount = await getSubscriberStats();
    if (subscriberCount === null) {
      console.log('Failed to fetch subscriber stats, not showing subscription popup');
      return;
    }

    // Update popup with subscriber count
    updatePopupWithStats(subscriberCount);

    // Show popup after grace period
    popupTimeout = window.setTimeout(() => {
      showPopup();
    }, CONFIG.graceDelay);
  }

  function updatePopupWithStats(count) {
    const descriptionEl = document.querySelector('.popup-description');
    if (descriptionEl) {
      const formattedCount = new Intl.NumberFormat('en-US').format(count);
      descriptionEl.innerHTML = `Join a community of <strong>${formattedCount}+</strong> developers and engineers who are growing together. Get insights on:`;
    }
  }

  async function handleSubscribe(event) {
    event.preventDefault();
    
    const form = event.target;
    const nameInput = form.querySelector('#subscriber-name');
    const emailInput = form.querySelector('#subscriber-email');
    const submitBtn = form.querySelector('#subscribe-btn');
    const messageEl = document.getElementById('form-message');

    const name = nameInput.value.trim();
    const email = emailInput.value.trim();

    if (!name || !email) {
      if (messageEl) {
        messageEl.textContent = 'Please fill in all fields.';
        messageEl.className = 'form-message error';
      }
      return;
    }

    // Show loading state
    submitBtn.classList.add('loading');
    submitBtn.disabled = true;
    if (messageEl) {
      messageEl.textContent = '';
      messageEl.className = 'form-message';
    }

    try {
      const response = await fetch(`${CONFIG.apiUrl}/subscribe`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ name, email }),
      });

      const data = await response.json();

      if (data.success) {
        localStorage.setItem(STORAGE_KEYS.subscribed, 'true');
        
        if (messageEl) {
          messageEl.textContent = '🎉 Successfully subscribed! Thank you for joining us.';
          messageEl.className = 'form-message success';
        }

        // Hide popup after 2 seconds
        setTimeout(() => {
          hidePopup();
        }, 2000);
      } else {
        if (messageEl) {
          messageEl.textContent = data.error || 'Subscription failed. Please try again.';
          messageEl.className = 'form-message error';
        }
      }
    } catch (error) {
      console.error('Subscription error:', error);
      if (messageEl) {
        messageEl.textContent = 'Network error. Please check your connection and try again.';
        messageEl.className = 'form-message error';
      }
    } finally {
      submitBtn.classList.remove('loading');
      submitBtn.disabled = false;
    }
  }

  function handleNotNow() {
    const notNowUntil = Date.now() + CONFIG.notNowDelay;
    localStorage.setItem(STORAGE_KEYS.notNowUntil, notNowUntil.toString());
    hidePopup();
  }

  function handleCancel() {
    localStorage.setItem(STORAGE_KEYS.cancelled, 'true');
    hidePopup();
  }

  // Initialize popup
  document.addEventListener('DOMContentLoaded', () => {
    const popup = document.getElementById('subscription-popup');
    const autoTrigger = popup?.getAttribute('data-auto-trigger') === 'true';
    
    // Schedule popup to show after grace period only if autoTrigger is enabled
    if (autoTrigger) {
      schedulePopup();
    }

    // Event listeners
    const form = document.getElementById('subscription-form');
    const overlay = document.getElementById('popup-overlay');
    const notNowBtn = document.getElementById('not-now-btn');
    const cancelBtn = document.getElementById('cancel-btn');

    if (form) {
      form.addEventListener('submit', handleSubscribe);
    }

    if (overlay) {
      overlay.addEventListener('click', handleNotNow);
    }

    if (notNowBtn) {
      notNowBtn.addEventListener('click', handleNotNow);
    }

    if (cancelBtn) {
      cancelBtn.addEventListener('click', handleCancel);
    }

    // Clean up on page unload
    window.addEventListener('beforeunload', () => {
      if (popupTimeout) {
        clearTimeout(popupTimeout);
      }
    });
  });
</script> </body></html> 