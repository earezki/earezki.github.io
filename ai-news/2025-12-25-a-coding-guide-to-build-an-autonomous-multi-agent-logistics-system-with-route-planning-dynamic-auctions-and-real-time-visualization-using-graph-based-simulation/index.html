<!DOCTYPE html><html lang="en" data-theme="dark"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>A Coding Guide to Build an Autonomous Multi-Agent Logistics System with Route Planning, Dynamic Auctions, and Real-Time Visualization Using Graph-Based Simulation • Dev|Journal</title><meta name="description" content="Autonomous Multi-Agent Logistics System This tutorial details building a fully autonomous logistics simulation featuring multiple smart delivery trucks…"><meta name="keywords" content="AI News, Technology"><meta name="author" content="El Mehdi Arezki"><meta property="og:type" content="website"><meta property="og:url" content="https://earezki.com/ai-news/2025-12-25-a-coding-guide-to-build-an-autonomous-multi-agent-logistics-system-with-route-planning-dynamic-auctions-and-real-time-visualization-using-graph-based-simulation/"><meta property="og:title" content="A Coding Guide to Build an Autonomous Multi-Agent Logistics System with Route Planning, Dynamic Auctions, and Real-Time Visualization Using Graph-Based Simulation • Dev|Journal"><meta property="og:site_name" content="Dev|Journal"><meta property="og:description" content="Autonomous Multi-Agent Logistics System This tutorial details building a fully autonomous logistics simulation featuring multiple smart delivery trucks…"><meta property="og:image" content="https://earezki.com/assets/og-image-default.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://earezki.com/ai-news/2025-12-25-a-coding-guide-to-build-an-autonomous-multi-agent-logistics-system-with-route-planning-dynamic-auctions-and-real-time-visualization-using-graph-based-simulation/"><meta name="twitter:title" content="A Coding Guide to Build an Autonomous Multi-Agent Logistics System with Route Planning, Dynamic Auctions, and Real-Time Visualization Using Graph-Based Simulation • Dev|Journal"><meta name="twitter:description" content="Autonomous Multi-Agent Logistics System This tutorial details building a fully autonomous logistics simulation featuring multiple smart delivery trucks…"><meta name="twitter:image" content="https://earezki.com/assets/og-image-default.jpg"><meta name="twitter:creator" content="@earezki"><link rel="canonical" href="https://earezki.com/ai-news/2025-12-25-a-coding-guide-to-build-an-autonomous-multi-agent-logistics-system-with-route-planning-dynamic-auctions-and-real-time-visualization-using-graph-based-simulation/"><link rel="icon" type="image/png" href="/assets/favicon_48_d.webp"><link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml"><link rel="dns-prefetch" href="https://cloud.umami.is"><script defer src="https://cloud.umami.is/script.js" data-website-id="4a26531d-1053-4f79-97a6-06a1366aff91"></script><script>
      (function() {
        const theme = localStorage.getItem('theme');
        if (theme) document.documentElement.setAttribute('data-theme', theme);
      })();
    </script><script>
!function(){const o=window.location.pathname;if("/"===o)return;if(/\.\w+$/.test(o))return;const n=o.toLowerCase(),i=n!==o,t=!o.endsWith("/");if(i||t){const o=n+(t?"/":""),i=window.location.origin+o+window.location.search+window.location.hash;window.location.replace(i)}}();
</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"A Coding Guide to Build an Autonomous Multi-Agent Logistics System with Route Planning, Dynamic Auctions, and Real-Time Visualization Using Graph-Based Simulation","description":"Autonomous Multi-Agent Logistics System This tutorial details building a fully autonomous logistics simulation featuring multiple smart delivery trucks…","image":"https://earezki.com/assets/og-image-default.jpg","datePublished":"2025-12-24T00:00:00.000Z","dateModified":"2025-12-24T00:00:00.000Z","author":{"@type":"Person","name":"El Mehdi Arezki","url":"https://earezki.com/about","jobTitle":"Lead Software Engineer","sameAs":["https://github.com/earezki","https://www.linkedin.com/in/mehdi-arezki"]},"publisher":{"@type":"Organization","name":"Dev|Journal","url":"https://earezki.com","logo":{"@type":"ImageObject","url":"https://earezki.com/assets/logo.png"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://earezki.com/ai-news/2025-12-25-a-coding-guide-to-build-an-autonomous-multi-agent-logistics-system-with-route-planning-dynamic-auctions-and-real-time-visualization-using-graph-based-simulation/"}}</script><link rel="stylesheet" href="/_astro/_slug_.B_eXuGWa.css">
<link rel="stylesheet" href="/_astro/_slug_.CFj9bTVJ.css">
<link rel="stylesheet" href="/_astro/_slug_.ICs7ea4X.css"></head> <body> <div id="readingProgress" role="progressbar" aria-label="Reading progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="position:fixed;left:0;top:0;height:3px;background:linear-gradient(90deg,#2563eb,#9333ea);width:0;z-index:999;transition:width .15s ease;"></div> <script type="module">function c(){const t=document.getElementById("readingProgress");if(!t)return;const o=()=>{const e=document.documentElement,r=e.scrollTop||document.body.scrollTop,s=e.scrollHeight-e.clientHeight,n=s>0?r/s*100:0;t.style.width=`${n}%`,t.setAttribute("aria-valuenow",n.toFixed(0))};document.addEventListener("scroll",o,{passive:!0}),o()}c();</script> <header class="site-header container"> <div class="logo-wrap"> <a class="logo" href="/" aria-label="Dev|Journal Home">
Dev|Journal
</a> </div> <!-- Search Box in Header --> <div class="header-search" data-search-api-url="https://api.earezki.com/blog/api/q" data-search-timeout="2000"> <div class="search-box" id="search-box"> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon" aria-hidden="true"> <circle cx="11" cy="11" r="8"></circle> <path d="m21 21-4.35-4.35"></path> </svg> <input type="text" id="search-input" placeholder="Search ..." class="search-input" autocomplete="off" aria-label="Search articles" minlength="3"> <button id="clear-search" class="clear-button" style="display: none;" aria-label="Clear search"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <line x1="18" y1="6" x2="6" y2="18"></line> <line x1="6" y1="6" x2="18" y2="18"></line> </svg> </button> </div> <div id="search-results" class="search-results" role="status" aria-live="polite"></div> </div> <script type="module" src="/_astro/SearchBox.astro_astro_type_script_index_0_lang.BNnBPVSN.js"></script> <nav class="main-nav" aria-label="Main navigation"> <a href="/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="vertical-align: -2px; margin-right: 4px;"> <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path> <polyline points="9 22 9 12 15 12 15 22"></polyline> </svg>
Home
</a> <a href="/ai-news/" class="ai-news-link ai-gradient-nav"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="vertical-align: -2px; margin-right: 4px;"> <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h-9.5a.5.5 0 0 0-.5.5.5.5 0 0 1-1 0 .5.5 0 0 0-.5-.5H1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"></path> <path d="M7 15v4a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-4"></path> </svg>
AI News
</a> <a href="/ai-financial-news/" class="ai-financial-link ai-gradient-nav"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="vertical-align: -2px; margin-right: 4px;"> <line x1="12" y1="1" x2="12" y2="23"></line> <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path> </svg>
AI Financial
</a> <a href="/about/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="vertical-align: -2px; margin-right: 4px;"> <circle cx="12" cy="12" r="10"></circle> <path d="M12 16v-4"></path> <path d="M12 8h.01"></path> </svg>
About
</a> <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark mode"> <span class="theme-icon" aria-hidden="true">☾</span> </button> </nav> </header> <!-- Main Content --> <main class="container content-area">  <nav class="breadcrumbs" aria-label="Breadcrumb" data-astro-cid-ilhxcym7> <ol data-astro-cid-ilhxcym7> <li data-astro-cid-ilhxcym7>  <a href="/" data-astro-cid-ilhxcym7>Home</a> <span class="separator" aria-hidden="true" data-astro-cid-ilhxcym7>/</span>  </li><li data-astro-cid-ilhxcym7>  <a href="/ai-news/" data-astro-cid-ilhxcym7>Ai News</a> <span class="separator" aria-hidden="true" data-astro-cid-ilhxcym7>/</span>  </li><li data-astro-cid-ilhxcym7> <span class="current" aria-current="page" data-astro-cid-ilhxcym7>A Coding Guide to Build an Autonomous Multi-Agent Logistics System with Route Planning, Dynamic Auctions, and Real-Time Visualization Using Graph-Based Simulation</span> </li>  </ol> </nav>  <div class="post-layout" data-astro-cid-rkg3zjxi> <aside class="sidebar-left" data-astro-cid-rkg3zjxi> <nav class="toc" aria-label="Table of Contents" data-astro-cid-xvrfupwn> <div class="toc-title" data-astro-cid-xvrfupwn>On this page</div> <ul data-astro-cid-xvrfupwn> <li class="d-2" data-astro-cid-xvrfupwn> <a href="#autonomous-multi-agent-logistics-system" data-astro-cid-xvrfupwn> Autonomous Multi-Agent Logistics System </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#why-this-matters" data-astro-cid-xvrfupwn> Why This Matters </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#key-insights" data-astro-cid-xvrfupwn> Key Insights </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#working-example" data-astro-cid-xvrfupwn> Working Example </a> </li><li class="d-3" data-astro-cid-xvrfupwn> <a href="#practical-applications" data-astro-cid-xvrfupwn> Practical Applications </a> </li> </ul> </nav>  </aside> <article class="post" data-astro-cid-rkg3zjxi> <header class="post-header" data-astro-cid-rkg3zjxi> <h1 data-astro-cid-rkg3zjxi>A Coding Guide to Build an Autonomous Multi-Agent Logistics System with Route Planning, Dynamic Auctions, and Real-Time Visualization Using Graph-Based Simulation</h1> <div class="meta" data-astro-cid-rkg3zjxi> <time datetime="2025-12-24T00:00:00.000Z" data-astro-cid-rkg3zjxi>Wed Dec 24 2025</time> <span data-astro-cid-rkg3zjxi>• 4 min read</span> </div> <div class="tag-row" data-astro-cid-rkg3zjxi><a class="post-tag ai-news-tag ai-gradient-tag" href="/tags/ai-news/" data-astro-cid-rkg3zjxi>AI News</a><a class="post-tag" href="/tags/ai-agents/" data-astro-cid-rkg3zjxi>AI Agents</a><a class="post-tag" href="/tags/agentic-ai/" data-astro-cid-rkg3zjxi>Agentic AI</a></div> </header>    <div class="post-body prose" data-astro-cid-rkg3zjxi> <h2 id="autonomous-multi-agent-logistics-system">Autonomous Multi-Agent Logistics System</h2>
<p>This tutorial details building a fully autonomous logistics simulation featuring multiple smart delivery trucks operating within a dynamic city-wide road network. The system utilizes agentic trucks capable of bidding on delivery orders, planning optimal routes, managing battery levels, and maximizing profit through self-interested decision-making.</p>
<h3 id="why-this-matters">Why This Matters</h3>
<p>Traditional logistics modeling often relies on centralized optimization, which struggles with the complexity and dynamism of real-world scenarios.  Agent-based modeling offers a more robust approach by simulating individual decision-making, but can be computationally expensive and difficult to scale. This system demonstrates a practical implementation of agentic AI, addressing the limitations of both centralized and simplistic agent models, and offering a scalable approach to logistics simulation that can be adapted to larger, more complex environments. Failure to address these scaling issues can lead to inaccurate predictions and inefficient resource allocation, costing logistics companies millions annually.</p>
<h3 id="key-insights">Key Insights</h3>
<ul>
<li><strong>NetworkX for Graph Representation, 2008:</strong> This Python library is used to model the city’s road network as a graph, facilitating route planning and distance calculations.</li>
<li><strong>Dynamic Auctions for Order Allocation:</strong>  The system employs a dynamic auction mechanism where agents bid on delivery orders based on profitability and feasibility, mirroring real-world logistics markets.</li>
<li><strong>Temporal for Agent Coordination:</strong> While not directly used in this example, similar multi-agent systems benefit from frameworks like Temporal to manage state and ensure reliable coordination between agents.</li>
</ul>
<h3 id="working-example">Working Example</h3>
<pre class="language-python" data-language="python"><code is:raw="" class="language-python"><span class="token keyword">import</span> networkx <span class="token keyword">as</span> nx
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> random
<span class="token keyword">import</span> time
<span class="token keyword">from</span> IPython<span class="token punctuation">.</span>display <span class="token keyword">import</span> clear_output
<span class="token keyword">from</span> dataclasses <span class="token keyword">import</span> dataclass<span class="token punctuation">,</span> field
<span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token punctuation">,</span> Dict<span class="token punctuation">,</span> Optional

NUM_NODES <span class="token operator">=</span> <span class="token number">30</span>
CONNECTION_RADIUS <span class="token operator">=</span> <span class="token number">0.25</span>
NUM_AGENTS <span class="token operator">=</span> <span class="token number">5</span>
STARTING_BALANCE <span class="token operator">=</span> <span class="token number">1000</span>
FUEL_PRICE <span class="token operator">=</span> <span class="token number">2.0</span>
PAYOUT_MULTIPLIER <span class="token operator">=</span> <span class="token number">5.0</span>
BATTERY_CAPACITY <span class="token operator">=</span> <span class="token number">100</span>
CRITICAL_BATTERY <span class="token operator">=</span> <span class="token number">25</span>

<span class="token decorator annotation punctuation">@dataclass</span>
<span class="token keyword">class</span> <span class="token class-name">Order</span><span class="token punctuation">:</span>
    <span class="token builtin">id</span><span class="token punctuation">:</span> <span class="token builtin">str</span>
    target_node<span class="token punctuation">:</span> <span class="token builtin">int</span>
    weight_kg<span class="token punctuation">:</span> <span class="token builtin">int</span>
    payout<span class="token punctuation">:</span> <span class="token builtin">float</span>
    status<span class="token punctuation">:</span> <span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"pending"</span>

<span class="token keyword">class</span> <span class="token class-name">AgenticTruck</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> agent_id<span class="token punctuation">,</span> start_node<span class="token punctuation">,</span> graph<span class="token punctuation">,</span> capacity<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">=</span> agent_id
        self<span class="token punctuation">.</span>current_node <span class="token operator">=</span> start_node
        self<span class="token punctuation">.</span>graph <span class="token operator">=</span> graph
        self<span class="token punctuation">.</span>battery <span class="token operator">=</span> BATTERY_CAPACITY
        self<span class="token punctuation">.</span>balance <span class="token operator">=</span> STARTING_BALANCE
        self<span class="token punctuation">.</span>capacity <span class="token operator">=</span> capacity
        self<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">"IDLE"</span>
        self<span class="token punctuation">.</span>path<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>current_order<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>Order<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>
        self<span class="token punctuation">.</span>target_node<span class="token punctuation">:</span> <span class="token builtin">int</span> <span class="token operator">=</span> start_node

    <span class="token keyword">def</span> <span class="token function">get_path_cost</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            length <span class="token operator">=</span> nx<span class="token punctuation">.</span>shortest_path_length<span class="token punctuation">(</span>self<span class="token punctuation">.</span>graph<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> weight<span class="token operator">=</span><span class="token string">'weight'</span><span class="token punctuation">)</span>
            path <span class="token operator">=</span> nx<span class="token punctuation">.</span>shortest_path<span class="token punctuation">(</span>self<span class="token punctuation">.</span>graph<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> weight<span class="token operator">=</span><span class="token string">'weight'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> length<span class="token punctuation">,</span> path
        <span class="token keyword">except</span> nx<span class="token punctuation">.</span>NetworkXNoPath<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">find_nearest_charger</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        chargers <span class="token operator">=</span> <span class="token punctuation">[</span>n <span class="token keyword">for</span> n<span class="token punctuation">,</span> attr <span class="token keyword">in</span> self<span class="token punctuation">.</span>graph<span class="token punctuation">.</span>nodes<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> <span class="token keyword">if</span> attr<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'charger'</span><span class="token punctuation">]</span>
        best_charger <span class="token operator">=</span> <span class="token boolean">None</span>
        min_dist <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
        best_path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> charger <span class="token keyword">in</span> chargers<span class="token punctuation">:</span>
            dist<span class="token punctuation">,</span> path <span class="token operator">=</span> self<span class="token punctuation">.</span>get_path_cost<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_node<span class="token punctuation">,</span> charger<span class="token punctuation">)</span>
            <span class="token keyword">if</span> dist <span class="token operator">&#x3C;</span> min_dist<span class="token punctuation">:</span>
                min_dist <span class="token operator">=</span> dist
                best_charger <span class="token operator">=</span> charger
                best_path <span class="token operator">=</span> path
        <span class="token keyword">return</span> best_charger<span class="token punctuation">,</span> best_path

    <span class="token keyword">def</span> <span class="token function">calculate_bid</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> order<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> order<span class="token punctuation">.</span>weight_kg <span class="token operator">></span> self<span class="token punctuation">.</span>capacity<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>state <span class="token operator">!=</span> <span class="token string">"IDLE"</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>battery <span class="token operator">&#x3C;</span> CRITICAL_BATTERY<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
        dist_to_target<span class="token punctuation">,</span> _ <span class="token operator">=</span> self<span class="token punctuation">.</span>get_path_cost<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_node<span class="token punctuation">,</span> order<span class="token punctuation">.</span>target_node<span class="token punctuation">)</span>
        fuel_cost <span class="token operator">=</span> dist_to_target <span class="token operator">*</span> FUEL_PRICE
        expected_profit <span class="token operator">=</span> order<span class="token punctuation">.</span>payout <span class="token operator">-</span> fuel_cost
        <span class="token keyword">if</span> expected_profit <span class="token operator">&#x3C;</span> <span class="token number">10</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> dist_to_target

    <span class="token keyword">def</span> <span class="token function">assign_order</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> order<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>current_order <span class="token operator">=</span> order
        self<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">"MOVING"</span>
        self<span class="token punctuation">.</span>target_node <span class="token operator">=</span> order<span class="token punctuation">.</span>target_node
        _<span class="token punctuation">,</span> self<span class="token punctuation">.</span>path <span class="token operator">=</span> self<span class="token punctuation">.</span>get_path_cost<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_node<span class="token punctuation">,</span> self<span class="token punctuation">.</span>target_node<span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>path<span class="token punctuation">:</span> self<span class="token punctuation">.</span>path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">go_charge</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        charger_node<span class="token punctuation">,</span> path <span class="token operator">=</span> self<span class="token punctuation">.</span>find_nearest_charger<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> charger_node <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">"TO_CHARGER"</span>
            self<span class="token punctuation">.</span>target_node <span class="token operator">=</span> charger_node
            self<span class="token punctuation">.</span>path <span class="token operator">=</span> path
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>path<span class="token punctuation">:</span> self<span class="token punctuation">.</span>path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">step</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>state <span class="token operator">==</span> <span class="token string">"IDLE"</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>battery <span class="token operator">&#x3C;</span> CRITICAL_BATTERY<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>go_charge<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>state <span class="token operator">==</span> <span class="token string">"CHARGING"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>battery <span class="token operator">+=</span> <span class="token number">10</span>
            self<span class="token punctuation">.</span>balance <span class="token operator">-=</span> <span class="token number">5</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>battery <span class="token operator">>=</span> <span class="token number">100</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>battery <span class="token operator">=</span> <span class="token number">100</span>
                self<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">"IDLE"</span>
            <span class="token keyword">return</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>path<span class="token punctuation">:</span>
            next_node <span class="token operator">=</span> self<span class="token punctuation">.</span>path<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            edge_data <span class="token operator">=</span> self<span class="token punctuation">.</span>graph<span class="token punctuation">.</span>get_edge_data<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_node<span class="token punctuation">,</span> next_node<span class="token punctuation">)</span>
            distance <span class="token operator">=</span> edge_data<span class="token punctuation">[</span><span class="token string">'weight'</span><span class="token punctuation">]</span>
            self<span class="token punctuation">.</span>current_node <span class="token operator">=</span> next_node
            self<span class="token punctuation">.</span>path<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>battery <span class="token operator">-=</span> <span class="token punctuation">(</span>distance <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>balance <span class="token operator">-=</span> <span class="token punctuation">(</span>distance <span class="token operator">*</span> FUEL_PRICE<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>path<span class="token punctuation">:</span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>state <span class="token operator">==</span> <span class="token string">"MOVING"</span><span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>balance <span class="token operator">+=</span> self<span class="token punctuation">.</span>current_order<span class="token punctuation">.</span>payout
                    self<span class="token punctuation">.</span>current_order<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">"completed"</span>
                    self<span class="token punctuation">.</span>current_order <span class="token operator">=</span> <span class="token boolean">None</span>
                    self<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">"IDLE"</span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>state <span class="token operator">==</span> <span class="token string">"TO_CHARGER"</span><span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">"CHARGING"</span>

<span class="token keyword">class</span> <span class="token class-name">Simulation</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>setup_graph<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setup_agents<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>orders <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>order_count <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">def</span> <span class="token function">setup_graph</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>G <span class="token operator">=</span> nx<span class="token punctuation">.</span>random_geometric_graph<span class="token punctuation">(</span>NUM_NODES<span class="token punctuation">,</span> CONNECTION_RADIUS<span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>G<span class="token punctuation">.</span>edges<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>G<span class="token punctuation">.</span>edges<span class="token punctuation">[</span>u<span class="token punctuation">,</span> v<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'weight'</span><span class="token punctuation">]</span> <span class="token operator">=</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">3.0</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> self<span class="token punctuation">.</span>G<span class="token punctuation">.</span>nodes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            r <span class="token operator">=</span> random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> r <span class="token operator">&#x3C;</span> <span class="token number">0.15</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>G<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'charger'</span>
                self<span class="token punctuation">.</span>G<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'red'</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>G<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'house'</span>
                self<span class="token punctuation">.</span>G<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'#A0CBE2'</span>

    <span class="token keyword">def</span> <span class="token function">setup_agents</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>agents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>NUM_AGENTS<span class="token punctuation">)</span><span class="token punctuation">:</span>
            start_node <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> NUM_NODES<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
            cap <span class="token operator">=</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>agents<span class="token punctuation">.</span>append<span class="token punctuation">(</span>AgenticTruck<span class="token punctuation">(</span>i<span class="token punctuation">,</span> start_node<span class="token punctuation">,</span> self<span class="token punctuation">.</span>G<span class="token punctuation">,</span> capacity<span class="token operator">=</span>cap<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">generate_order</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        target <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> NUM_NODES<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        weight <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span>
        payout <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        order <span class="token operator">=</span> Order<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"ORD-</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>order_count<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> target_node<span class="token operator">=</span>target<span class="token punctuation">,</span> weight_kg<span class="token operator">=</span>weight<span class="token punctuation">,</span> payout<span class="token operator">=</span>payout<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>orders<span class="token punctuation">.</span>append<span class="token punctuation">(</span>order<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>order_count <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> order

    <span class="token keyword">def</span> <span class="token function">run_market</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> order <span class="token keyword">in</span> self<span class="token punctuation">.</span>orders<span class="token punctuation">:</span>
            <span class="token keyword">if</span> order<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token string">"pending"</span><span class="token punctuation">:</span>
                bids <span class="token operator">=</span> <span class="token punctuation">{</span>agent<span class="token punctuation">:</span> agent<span class="token punctuation">.</span>calculate_bid<span class="token punctuation">(</span>order<span class="token punctuation">)</span> <span class="token keyword">for</span> agent <span class="token keyword">in</span> self<span class="token punctuation">.</span>agents<span class="token punctuation">}</span>
                valid_bids <span class="token operator">=</span> <span class="token punctuation">{</span>k<span class="token punctuation">:</span> v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> bids<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> v <span class="token operator">!=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                <span class="token keyword">if</span> valid_bids<span class="token punctuation">:</span>
                    winner <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>valid_bids<span class="token punctuation">,</span> key<span class="token operator">=</span>valid_bids<span class="token punctuation">.</span>get<span class="token punctuation">)</span>
                    winner<span class="token punctuation">.</span>assign_order<span class="token punctuation">(</span>order<span class="token punctuation">)</span>
                    order<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">"assigned"</span>

    <span class="token keyword">def</span> <span class="token function">step</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&#x3C;</span> <span class="token number">0.3</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>generate_order<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>run_market<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> agent <span class="token keyword">in</span> self<span class="token punctuation">.</span>agents<span class="token punctuation">:</span>
            agent<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">visualize</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> step_num<span class="token punctuation">)</span><span class="token punctuation">:</span>
        clear_output<span class="token punctuation">(</span>wait<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        pos <span class="token operator">=</span> nx<span class="token punctuation">.</span>get_node_attributes<span class="token punctuation">(</span>self<span class="token punctuation">.</span>G<span class="token punctuation">,</span> <span class="token string">'pos'</span><span class="token punctuation">)</span>
        node_colors <span class="token operator">=</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>G<span class="token punctuation">.</span>nodes<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span> <span class="token keyword">for</span> n <span class="token keyword">in</span> self<span class="token punctuation">.</span>G<span class="token punctuation">.</span>nodes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        nx<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>G<span class="token punctuation">,</span> pos<span class="token punctuation">,</span> node_color<span class="token operator">=</span>node_colors<span class="token punctuation">,</span> with_labels<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> node_size<span class="token operator">=</span><span class="token number">300</span><span class="token punctuation">,</span> edge_color<span class="token operator">=</span><span class="token string">'gray'</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> agent <span class="token keyword">in</span> self<span class="token punctuation">.</span>agents<span class="token punctuation">:</span>
            x<span class="token punctuation">,</span> y <span class="token operator">=</span> pos<span class="token punctuation">[</span>agent<span class="token punctuation">.</span>current_node<span class="token punctuation">]</span>
            jitter_x <span class="token operator">=</span> x <span class="token operator">+</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.02</span><span class="token punctuation">,</span> <span class="token number">0.02</span><span class="token punctuation">)</span>
            jitter_y <span class="token operator">=</span> y <span class="token operator">+</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.02</span><span class="token punctuation">,</span> <span class="token number">0.02</span><span class="token punctuation">)</span>
            color <span class="token operator">=</span> <span class="token string">'green'</span> <span class="token keyword">if</span> agent<span class="token punctuation">.</span>state <span class="token operator">==</span> <span class="token string">"IDLE"</span> <span class="token keyword">else</span> <span class="token punctuation">(</span><span class="token string">'orange'</span> <span class="token keyword">if</span> agent<span class="token punctuation">.</span>state <span class="token operator">==</span> <span class="token string">"MOVING"</span> <span class="token keyword">else</span> <span class="token string">'red'</span><span class="token punctuation">)</span>
            plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>jitter_x<span class="token punctuation">,</span> jitter_y<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">'s'</span><span class="token punctuation">,</span> markersize<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">,</span> color<span class="token operator">=</span>color<span class="token punctuation">,</span> markeredgecolor<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">)</span>
            plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>jitter_x<span class="token punctuation">,</span> jitter_y<span class="token operator">+</span><span class="token number">0.03</span><span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f"A</span><span class="token interpolation"><span class="token punctuation">{</span>agent<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">}</span></span><span class="token string">\n$</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>agent<span class="token punctuation">.</span>balance<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">\n</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>agent<span class="token punctuation">.</span>battery<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">%"</span></span><span class="token punctuation">,</span>
            fontsize<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span> ha<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> fontweight<span class="token operator">=</span><span class="token string">'bold'</span><span class="token punctuation">,</span> bbox<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>facecolor<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span> pad<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> order <span class="token keyword">in</span> self<span class="token punctuation">.</span>orders<span class="token punctuation">:</span>
            <span class="token keyword">if</span> order<span class="token punctuation">.</span>status <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">"assigned"</span><span class="token punctuation">,</span> <span class="token string">"pending"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                ox<span class="token punctuation">,</span> oy <span class="token operator">=</span> pos<span class="token punctuation">[</span>order<span class="token punctuation">.</span>target_node<span class="token punctuation">]</span>
                plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ox<span class="token punctuation">,</span> oy<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">'*'</span><span class="token punctuation">,</span> markersize<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'gold'</span><span class="token punctuation">,</span> markeredgecolor<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Graph-Based Logistics Swarm | Step: </span><span class="token interpolation"><span class="token punctuation">{</span>step_num<span class="token punctuation">}</span></span><span class="token string">\nRed Nodes = Chargers | Gold Stars = Orders"</span></span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Run the simulation</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Initializing Advanced Simulation..."</span><span class="token punctuation">)</span>
sim <span class="token operator">=</span> Simulation<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sim<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sim<span class="token punctuation">.</span>visualize<span class="token punctuation">(</span>t<span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Simulation Finished."</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="practical-applications">Practical Applications</h3>
<ul>
<li><strong>Use Case</strong>: Amazon utilizes similar agent-based systems to optimize delivery routes and manage its fleet of vehicles in real-time, adjusting to traffic and demand fluctuations.</li>
<li><strong>Pitfall</strong>: Overly complex reward functions can lead to unintended agent behaviors, such as prioritizing short-term gains over long-term efficiency or neglecting critical tasks like battery recharging.</li>
</ul>
<p><strong>References:</strong></p>
<ul>
<li><a href="https://www.marktechpost.com/2025/12/24/a-coding-guide-to-build-an-autonomous-multi-agent-logistics-system-with-route-planning-dynamic-auctions-and-real-time-visualization-using-graph-based-simulation/">https://www.marktechpost.com/2025/12/24/a-coding-guide-to-build-an-autonomous-multi-agent-logistics-system-with-route-planning-dynamic-auctions-and-real-time-visualization-using-graph-based-simulation/</a></li>
</ul> </div>  <section class="related-posts" data-astro-cid-dpgbfi7r> <h2 data-astro-cid-dpgbfi7r>Related Posts</h2> <div class="related-posts-grid" data-astro-cid-dpgbfi7r> <article class="related-post-card" data-astro-cid-dpgbfi7r> <a href="/ai-news/2025-12-22-how-to-build-a-fully-autonomous-local-fleet-maintenance-analysis-agent-using-smolagents-and-qwen-model/" class="related-post-link" data-astro-cid-dpgbfi7r> <h3 data-astro-cid-dpgbfi7r>How to Build a Fully Autonomous Local Fleet-Maintenance Analysis Agent Using SmolAgents and Qwen Model</h3> <p class="related-excerpt" data-astro-cid-dpgbfi7r>How to Build a Fully Autonomous Local Fleet-Maintenance Analysis Agent Using SmolAgents and Qwen Model This tutorial…</p> <div class="related-meta" data-astro-cid-dpgbfi7r> <time datetime="2025-12-22T00:00:00.000Z" data-astro-cid-dpgbfi7r> Dec 22, 2025 </time> <span data-astro-cid-dpgbfi7r>•</span> <span data-astro-cid-dpgbfi7r>2 min read</span> </div> </a> </article><article class="related-post-card" data-astro-cid-dpgbfi7r> <a href="/ai-news/2025-12-17-how-to-orchestrate-a-fully-autonomous-multi-agent-research-and-writing-pipeline-using-crewai-and-gemini-for-real-time-intelligent-collaboration/" class="related-post-link" data-astro-cid-dpgbfi7r> <h3 data-astro-cid-dpgbfi7r>How to Orchestrate a Fully Autonomous Multi-Agent Research and Writing Pipeline Using CrewAI and Gemini</h3> <p class="related-excerpt" data-astro-cid-dpgbfi7r>How to Orchestrate a Fully Autonomous Multi-Agent Research and Writing Pipeline Using CrewAI and Gemini This tutorial…</p> <div class="related-meta" data-astro-cid-dpgbfi7r> <time datetime="2025-12-17T00:00:00.000Z" data-astro-cid-dpgbfi7r> Dec 17, 2025 </time> <span data-astro-cid-dpgbfi7r>•</span> <span data-astro-cid-dpgbfi7r>2 min read</span> </div> </a> </article><article class="related-post-card" data-astro-cid-dpgbfi7r> <a href="/ai-news/2025-12-15-how-to-design-a-gemini-powered-self-correcting-multi-agent-ai-system-with-semantic-routing-symbolic-guardrails-and-reflexive-orchestration/" class="related-post-link" data-astro-cid-dpgbfi7r> <h3 data-astro-cid-dpgbfi7r>How to Design a Gemini-Powered Self-Correcting Multi-Agent AI System with Semantic Routing, Symbolic Guardrails, and Reflexive Orchestration</h3> <p class="related-excerpt" data-astro-cid-dpgbfi7r>Gemini-Powered Self-Correcting Multi-Agent AI System This tutorial demonstrates the design and implementation of a…</p> <div class="related-meta" data-astro-cid-dpgbfi7r> <time datetime="2025-12-15T00:00:00.000Z" data-astro-cid-dpgbfi7r> Dec 15, 2025 </time> <span data-astro-cid-dpgbfi7r>•</span> <span data-astro-cid-dpgbfi7r>2 min read</span> </div> </a> </article><article class="related-post-card" data-astro-cid-dpgbfi7r> <a href="/ai-news/2025-12-07-how-to-build-an-adaptive-meta-reasoning-agent-that-dynamically-chooses-between-fast-deep-and-tool-based-thinking-strategies/" class="related-post-link" data-astro-cid-dpgbfi7r> <h3 data-astro-cid-dpgbfi7r>How to Build an Adaptive Meta-Reasoning Agent That Dynamically Chooses Between Fast, Deep, and Tool-Based Thinking Strategies</h3> <p class="related-excerpt" data-astro-cid-dpgbfi7r>How to Build an Adaptive Meta-Reasoning Agent That Dynamically Chooses Between Fast, Deep, and Tool-Based Thinking…</p> <div class="related-meta" data-astro-cid-dpgbfi7r> <time datetime="2025-12-06T00:00:00.000Z" data-astro-cid-dpgbfi7r> Dec 6, 2025 </time> <span data-astro-cid-dpgbfi7r>•</span> <span data-astro-cid-dpgbfi7r>2 min read</span> </div> </a> </article> </div> </section>  </article> </div> <div class="back-link" data-astro-cid-rkg3zjxi><a href="/ai-news/" data-astro-cid-rkg3zjxi>← Back to AI News</a></div>  </main> <!-- Site Footer --> <footer class="site-footer container"> <p>
© 2025 AREZKI El Mehdi •
<a href="https://github.com/earezki">GitHub</a> •
<a href="/rss.xml">RSS</a> •
<a href="/tags/">Tags</a> •
<a href="/sitemap-index.xml">Sitemap</a> •
<button id="footer-subscribe-btn" class="footer-subscribe-btn" aria-label="Subscribe to newsletter">
📬 Subscribe
</button> </p> </footer> <!-- Footer Subscribe Button Handler --> <script type="module">const e=document.getElementById("themeToggle"),o=n=>{if(!e)return;const t=e.querySelector(".theme-icon");t&&(t.textContent=n==="dark"?"☀":"☾")};if(e){const n=document.documentElement.getAttribute("data-theme")||"dark";o(n),e.addEventListener("click",()=>{const t=document.documentElement,c=t.getAttribute("data-theme")==="dark"?"light":"dark";t.setAttribute("data-theme",c),localStorage.setItem("theme",c),o(c)})}</script> <!-- Theme Toggle --> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("footer-subscribe-btn");e&&e.addEventListener("click",n=>{n.preventDefault();const t=document.getElementById("subscription-popup");t&&(t.setAttribute("data-state","visible"),document.body.style.overflow="hidden")})});</script> <!-- Article read/unread tracking --> <script>
      (function() {
        const KEY = 'readArticles';
        
        function getRead() {
          try {
            const d = localStorage.getItem(KEY);
            return d ? JSON.parse(d) : [];
          } catch (e) {
            return [];
          }
        }
        
        function markRead(url) {
          try {
            const read = getRead();
            if (!read.includes(url)) {
              read.push(url);
              localStorage.setItem(KEY, JSON.stringify(read));
            }
          } catch (e) {}
        }
        
        function updateCards() {
          const read = new Set(getRead());
          const cards = document.querySelectorAll('.post-card[data-article-url]');
          cards.forEach(function(card) {
            const url = card.getAttribute('data-article-url');
            if (!url) return;
            const isRead = read.has(url);
            card.classList.toggle('read', isRead);
            card.classList.toggle('unread', !isRead);
          });
        }
        
        function markCurrent() {
          if (document.querySelector('.post-body')) {
            markRead(window.location.pathname);
          }
        }
        
        function init() {
          updateCards();
          markCurrent();
        }
        
        function clearRead(url) {
          try {
            const read = new Set(getRead());
            if (read.has(url)) {
              read.delete(url);
              localStorage.setItem(KEY, JSON.stringify(Array.from(read)));
              updateCards();
            }
          } catch (e) {}
        }
        
        window.clearReadArticle = clearRead;
        document.addEventListener('DOMContentLoaded', init);
        window.addEventListener('pageshow', function(e) {
          if (e.persisted) init();
        });
      })();
    </script> <!-- Clear read button handler --> <script>
      (function() {
        document.addEventListener('click', function(e) {
          var tgt = e.target, btn = null;
          while (tgt && tgt !== document) {
            if (tgt.classList && tgt.classList.contains('clear-read-btn')) {
              btn = tgt;
              break;
            }
            tgt = tgt.parentNode;
          }
          if (!btn) return;
          e.preventDefault();
          e.stopPropagation();
          var url = btn.getAttribute('data-article-url');
          if (url && window.clearReadArticle) window.clearReadArticle(url);
        });
      })();
    </script> <!-- External links open in new tab --> <script>
      (function() {
        function makeExternal() {
          const domain = window.location.hostname;
          const links = document.querySelectorAll('a[href]');
          links.forEach(function(link) {
            const href = link.getAttribute('href');
            if (!href || link.hasAttribute('target')) return;
            const isExt = (href.startsWith('http://') || href.startsWith('https://')) && !href.includes(domain);
            if (isExt) {
              link.setAttribute('target', '_blank');
              link.setAttribute('rel', 'noopener noreferrer');
            }
          });
        }
        document.addEventListener('DOMContentLoaded', makeExternal);
        if (window.MutationObserver) {
          const obs = new MutationObserver(function(muts) {
            muts.forEach(function(mut) {
              if (mut.addedNodes.length) makeExternal();
            });
          });
          obs.observe(document.body, { childList: true, subtree: true });
        }
      })();
    </script> <!-- Code copy buttons --> <script>
      (function() {
        function createBtn() {
          const btn = document.createElement('button');
          btn.className = 'copy-code-button';
          btn.setAttribute('aria-label', 'Copy code to clipboard');
          btn.innerHTML = `
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            <span>Copy</span>
          `;
          return btn;
        }
        
        function checkIcon() {
          return `
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            <span>Copied!</span>
          `;
        }
        
        async function copyText(txt) {
          try {
            await navigator.clipboard.writeText(txt);
            return true;
          } catch (err) {
            const ta = document.createElement('textarea');
            ta.value = txt;
            ta.style.position = 'fixed';
            ta.style.left = '-999999px';
            document.body.appendChild(ta);
            ta.select();
            try {
              document.execCommand('copy');
              document.body.removeChild(ta);
              return true;
            } catch (e) {
              document.body.removeChild(ta);
              return false;
            }
          }
        }
        
        async function handleCopy(btn, code) {
          const txt = code.textContent || '';
          const ok = await copyText(txt);
          if (ok) {
            const orig = btn.innerHTML;
            btn.classList.add('copied');
            btn.innerHTML = checkIcon();
            setTimeout(function() {
              btn.classList.remove('copied');
              btn.innerHTML = orig;
            }, 2000);
          }
        }
        
        function addBtns() {
          const blocks = document.querySelectorAll('.post-body pre');
          blocks.forEach(function(pre) {
            if (pre.querySelector('.copy-code-button')) return;
            const btn = createBtn();
            const code = pre.querySelector('code');
            if (code) {
              btn.addEventListener('click', function() {
                handleCopy(btn, code);
              });
              pre.appendChild(btn);
            }
          });
        }
        
        document.addEventListener('DOMContentLoaded', addBtns);
      })();
    </script> <!-- Newsletter Subscription Popup --> <div id="subscription-popup" class="subscription-popup" data-state="hidden" data-auto-trigger="true" data-astro-cid-we5gmdnp> <div class="popup-overlay" id="popup-overlay" data-astro-cid-we5gmdnp></div> <div class="popup-container" data-astro-cid-we5gmdnp> <div class="popup-content" data-astro-cid-we5gmdnp> <div class="popup-icon" data-astro-cid-we5gmdnp> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-we5gmdnp> <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-astro-cid-we5gmdnp></path> <polyline points="22,6 12,13 2,6" data-astro-cid-we5gmdnp></polyline> </svg> </div> <h2 class="popup-title" data-astro-cid-we5gmdnp>Stay Updated with Dev|Journal</h2> <p class="popup-description" id="popup-description" data-astro-cid-we5gmdnp>
Join our community of developers and engineers. Get insights on:
</p> <ul class="popup-features" data-astro-cid-we5gmdnp> <li data-astro-cid-we5gmdnp> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-we5gmdnp> <polyline points="20 6 9 17 4 12" data-astro-cid-we5gmdnp></polyline> </svg>
Software Architecture & Design Patterns
</li> <li data-astro-cid-we5gmdnp> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-we5gmdnp> <polyline points="20 6 9 17 4 12" data-astro-cid-we5gmdnp></polyline> </svg>
Backend Development Best Practices
</li> <li data-astro-cid-we5gmdnp> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-we5gmdnp> <polyline points="20 6 9 17 4 12" data-astro-cid-we5gmdnp></polyline> </svg>
AI & Tech Industry Analysis
</li> </ul> <form id="subscription-form" class="popup-form" data-astro-cid-we5gmdnp> <div class="form-group" data-astro-cid-we5gmdnp> <input type="text" id="subscriber-name" name="name" placeholder="Your name" required autocomplete="name" data-astro-cid-we5gmdnp> </div> <div class="form-group" data-astro-cid-we5gmdnp> <input type="email" id="subscriber-email" name="email" placeholder="your.email@example.com" required autocomplete="email" data-astro-cid-we5gmdnp> </div> <div id="form-message" class="form-message" data-astro-cid-we5gmdnp></div> <div class="popup-actions" data-astro-cid-we5gmdnp> <button type="submit" class="btn btn-primary" id="subscribe-btn" data-astro-cid-we5gmdnp> <span class="btn-text" data-astro-cid-we5gmdnp>Subscribe</span> <span class="btn-loader" data-astro-cid-we5gmdnp> <svg class="spinner" viewBox="0 0 24 24" data-astro-cid-we5gmdnp> <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" data-astro-cid-we5gmdnp></circle> </svg> </span> </button> <button type="button" class="btn btn-secondary" id="not-now-btn" data-astro-cid-we5gmdnp>Not Now</button> <button type="button" class="btn btn-text" id="cancel-btn" data-astro-cid-we5gmdnp>Don't Show Again</button> </div> </form> </div> </div> </div>  <script>
  // Configuration
  const CONFIG = {
    graceDelay: 5000, // 5 seconds delay before showing popup
    notNowDelay: 24 * 60 * 60 * 1000, // 1 day in milliseconds
    apiUrl: 'https://api.earezki.com/blog/api',
  };

  const STORAGE_KEYS = {
    subscribed: 'newsletter_subscribed',
    cancelled: 'newsletter_cancelled',
    notNowUntil: 'newsletter_not_now_until',
  };

  // State management
  let popupTimeout = null;

  function showPopup() {
    const popup = document.getElementById('subscription-popup');
    if (popup) {
      popup.setAttribute('data-state', 'visible');
      document.body.style.overflow = 'hidden';
    }
  }

  function hidePopup() {
    const popup = document.getElementById('subscription-popup');
    if (popup) {
      popup.setAttribute('data-state', 'hidden');
      document.body.style.overflow = '';
    }
  }

  function shouldShowPopup() {
    // Check if user has already subscribed
    if (localStorage.getItem(STORAGE_KEYS.subscribed) === 'true') {
      return false;
    }

    // Check if user clicked "Don't show again"
    if (localStorage.getItem(STORAGE_KEYS.cancelled) === 'true') {
      return false;
    }

    // Check if user clicked "Not now" and delay hasn't passed
    const notNowUntil = localStorage.getItem(STORAGE_KEYS.notNowUntil);
    if (notNowUntil) {
      const notNowTime = parseInt(notNowUntil, 10);
      if (Date.now() < notNowTime) {
        return false;
      }
    }

    return true;
  }

  async function getSubscriberStats() {
    try {
      const response = await fetch(`${CONFIG.apiUrl}/subscribers/stats`, {
        method: 'GET',
        headers: {
          'Accept': 'application/json',
        },
      });
      
      if (!response.ok) {
        return null;
      }
      
      const data = await response.json();
      return data.subscriber_count || null;
    } catch (error) {
      console.error('Failed to fetch subscriber stats:', error);
      return null;
    }
  }

  async function schedulePopup() {
    if (!shouldShowPopup()) {
      return;
    }

    // Fetch subscriber stats before scheduling popup
    const subscriberCount = await getSubscriberStats();
    if (subscriberCount === null) {
      console.log('Failed to fetch subscriber stats, not showing subscription popup');
      return;
    }

    // Update popup with subscriber count
    updatePopupWithStats(subscriberCount);

    // Show popup after grace period
    popupTimeout = window.setTimeout(() => {
      showPopup();
    }, CONFIG.graceDelay);
  }

  function updatePopupWithStats(count) {
    const descriptionEl = document.querySelector('.popup-description');
    if (descriptionEl) {
      const formattedCount = new Intl.NumberFormat('en-US').format(count);
      descriptionEl.innerHTML = `Join a community of <strong>${formattedCount}+</strong> developers and engineers who are growing together. Get insights on:`;
    }
  }

  async function handleSubscribe(event) {
    event.preventDefault();
    
    const form = event.target;
    const nameInput = form.querySelector('#subscriber-name');
    const emailInput = form.querySelector('#subscriber-email');
    const submitBtn = form.querySelector('#subscribe-btn');
    const messageEl = document.getElementById('form-message');

    const name = nameInput.value.trim();
    const email = emailInput.value.trim();

    if (!name || !email) {
      if (messageEl) {
        messageEl.textContent = 'Please fill in all fields.';
        messageEl.className = 'form-message error';
      }
      return;
    }

    // Show loading state
    submitBtn.classList.add('loading');
    submitBtn.disabled = true;
    if (messageEl) {
      messageEl.textContent = '';
      messageEl.className = 'form-message';
    }

    try {
      const response = await fetch(`${CONFIG.apiUrl}/subscribe`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ name, email }),
      });

      const data = await response.json();

      if (data.success) {
        localStorage.setItem(STORAGE_KEYS.subscribed, 'true');
        
        if (messageEl) {
          messageEl.textContent = '🎉 Successfully subscribed! Thank you for joining us.';
          messageEl.className = 'form-message success';
        }

        // Hide popup after 2 seconds
        setTimeout(() => {
          hidePopup();
        }, 2000);
      } else {
        if (messageEl) {
          messageEl.textContent = data.error || 'Subscription failed. Please try again.';
          messageEl.className = 'form-message error';
        }
      }
    } catch (error) {
      console.error('Subscription error:', error);
      if (messageEl) {
        messageEl.textContent = 'Network error. Please check your connection and try again.';
        messageEl.className = 'form-message error';
      }
    } finally {
      submitBtn.classList.remove('loading');
      submitBtn.disabled = false;
    }
  }

  function handleNotNow() {
    const notNowUntil = Date.now() + CONFIG.notNowDelay;
    localStorage.setItem(STORAGE_KEYS.notNowUntil, notNowUntil.toString());
    hidePopup();
  }

  function handleCancel() {
    localStorage.setItem(STORAGE_KEYS.cancelled, 'true');
    hidePopup();
  }

  // Initialize popup
  document.addEventListener('DOMContentLoaded', () => {
    const popup = document.getElementById('subscription-popup');
    const autoTrigger = popup?.getAttribute('data-auto-trigger') === 'true';
    
    // Schedule popup to show after grace period only if autoTrigger is enabled
    if (autoTrigger) {
      schedulePopup();
    }

    // Event listeners
    const form = document.getElementById('subscription-form');
    const overlay = document.getElementById('popup-overlay');
    const notNowBtn = document.getElementById('not-now-btn');
    const cancelBtn = document.getElementById('cancel-btn');

    if (form) {
      form.addEventListener('submit', handleSubscribe);
    }

    if (overlay) {
      overlay.addEventListener('click', handleNotNow);
    }

    if (notNowBtn) {
      notNowBtn.addEventListener('click', handleNotNow);
    }

    if (cancelBtn) {
      cancelBtn.addEventListener('click', handleCancel);
    }

    // Clean up on page unload
    window.addEventListener('beforeunload', () => {
      if (popupTimeout) {
        clearTimeout(popupTimeout);
      }
    });
  });
</script> </body></html> 