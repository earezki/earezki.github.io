<!DOCTYPE html><html lang="en" data-theme="dark"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Microservices Design Patterns: Best Practices for Scalable Systems • Dev|Journal</title><meta name="description" content="Microservices Design Patterns: Best Practices for Scalable Systems Microservices architecture has become the de facto standard for building scalable,…"><meta name="keywords" content="software architecture, backend development, microservices, Java, Python, Spring Boot, technical blog"><meta name="author" content="El Mehdi Arezki"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://earezki.com/ai-news/2025-11-01-microservices-design-patterns-best-practices/"><meta property="og:title" content="Microservices Design Patterns: Best Practices for Scalable Systems • Dev|Journal"><meta property="og:site_name" content="Dev|Journal"><meta property="og:description" content="Microservices Design Patterns: Best Practices for Scalable Systems Microservices architecture has become the de facto standard for building scalable,…"><meta property="og:image" content="https://earezki.com/assets/og-image-default.jpg"><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://earezki.com/ai-news/2025-11-01-microservices-design-patterns-best-practices/"><meta name="twitter:title" content="Microservices Design Patterns: Best Practices for Scalable Systems • Dev|Journal"><meta name="twitter:description" content="Microservices Design Patterns: Best Practices for Scalable Systems Microservices architecture has become the de facto standard for building scalable,…"><meta name="twitter:image" content="https://earezki.com/assets/og-image-default.jpg"><meta name="twitter:creator" content="@earezki"><link rel="canonical" href="https://earezki.com/ai-news/2025-11-01-microservices-design-patterns-best-practices/"><link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-161447264-1"></script><script defer src="https://cloud.umami.is/script.js" data-website-id="4a26531d-1053-4f79-97a6-06a1366aff91"></script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Microservices Design Patterns: Best Practices for Scalable Systems","datePublished":"2025-11-01T10:00:00.000Z","dateModified":"2025-11-01T10:00:00.000Z","author":{"@type":"Person","name":"AREZKI El Mehdi"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://earezki.com/ai-news/2025-11-01-microservices-design-patterns-best-practices/"},"description":"Microservices Design Patterns: Best Practices for Scalable Systems Microservices architecture has become the de facto standard for building scalable,…"}</script><link rel="stylesheet" href="/_astro/_slug_.CDWqF8AB.css">
<style>.post-layout[data-astro-cid-rkg3zjxi]{display:grid;grid-template-columns:260px 1fr;gap:2.5rem}.sidebar-left[data-astro-cid-rkg3zjxi]{position:relative}@media (max-width: 1080px){.post-layout[data-astro-cid-rkg3zjxi]{grid-template-columns:1fr}}.ai-disclaimer-article[data-astro-cid-rkg3zjxi]{display:flex;gap:.75rem;padding:.9rem 1.1rem;margin:0 auto 2rem;max-width:780px;background:linear-gradient(135deg,#667eea1a,#764ba21a,#f093fb1a);border:2px solid transparent;border-radius:var(--radius-md);position:relative;background-clip:padding-box;font-size:.85rem}.ai-disclaimer-article[data-astro-cid-rkg3zjxi]:before{content:"";position:absolute;inset:-2px;border-radius:var(--radius-md);padding:2px;background:var(--ai-gradient-border);background-size:200% 200%;animation:gradient-rotate 3s linear infinite;-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;pointer-events:none}html[data-theme=dark] .ai-disclaimer-article[data-astro-cid-rkg3zjxi]{background:linear-gradient(135deg,#667eea26,#764ba226,#f093fb26)}.ai-disclaimer-article[data-astro-cid-rkg3zjxi] svg[data-astro-cid-rkg3zjxi]{margin-top:.15rem}.ai-disclaimer-article[data-astro-cid-rkg3zjxi] strong[data-astro-cid-rkg3zjxi]{color:var(--color-text);display:block;margin-bottom:.15rem}.ai-disclaimer-article[data-astro-cid-rkg3zjxi] div[data-astro-cid-rkg3zjxi]{line-height:1.5;color:var(--color-text-alt)}
.toc[data-astro-cid-xvrfupwn]{position:sticky;top:90px;max-height:calc(100vh - 120px);overflow:auto;padding:1rem 1rem 1.2rem;background:var(--color-bg-alt);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:.8rem;line-height:1.3}.toc-title[data-astro-cid-xvrfupwn]{font-weight:600;font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;margin-bottom:.6rem;color:var(--color-text-alt)}.toc[data-astro-cid-xvrfupwn] ul[data-astro-cid-xvrfupwn]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.35rem}.toc[data-astro-cid-xvrfupwn] a[data-astro-cid-xvrfupwn]{text-decoration:none;color:var(--color-text-alt)}.toc[data-astro-cid-xvrfupwn] a[data-astro-cid-xvrfupwn]:hover{color:var(--color-accent)}.toc[data-astro-cid-xvrfupwn] li[data-astro-cid-xvrfupwn][class*=d-3]{margin-left:.75rem}.toc[data-astro-cid-xvrfupwn] li[data-astro-cid-xvrfupwn][class*=d-4]{margin-left:1.4rem}@media (max-width: 1080px){.toc[data-astro-cid-xvrfupwn]{display:none}}
</style><script type="module" src="/_astro/hoisted.CwSnpN4J.js"></script></head> <body> <div id="readingProgress" style="position:fixed;left:0;top:0;height:3px;background:linear-gradient(90deg,#2563eb,#9333ea);width:0;z-index:999;transition:width .15s ease;"></div>  <header class="site-header container"> <div class="logo-wrap"> <a class="logo" href="/">Dev|Journal</a> </div> <nav class="main-nav"> <a href="/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: -2px; margin-right: 4px;"> <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path> <polyline points="9 22 9 12 15 12 15 22"></polyline> </svg>
Home
</a> <a href="/ai-news/" class="ai-news-link"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: -2px; margin-right: 4px;"> <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h-9.5a.5.5 0 0 0-.5.5.5.5 0 0 1-1 0 .5.5 0 0 0-.5-.5H1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"></path> <path d="M7 15v4a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-4"></path> </svg>
AI News
</a> <a href="/tags/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: -2px; margin-right: 4px;"> <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2z"></path> <circle cx="7" cy="7" r="1.5"></circle> </svg>
Tags
</a> <a href="/about/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: -2px; margin-right: 4px;"> <circle cx="12" cy="12" r="10"></circle> <path d="M12 16v-4"></path> <path d="M12 8h.01"></path> </svg>
About
</a> <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark mode"> <span class="theme-icon">☾</span> <span class="theme-text">dark</span> </button> </nav> </header> <main class="container content-area">  <div class="ai-disclaimer-article" data-astro-cid-rkg3zjxi> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="flex-shrink: 0;" data-astro-cid-rkg3zjxi> <circle cx="12" cy="12" r="10" data-astro-cid-rkg3zjxi></circle> <line x1="12" y1="8" x2="12" y2="12" data-astro-cid-rkg3zjxi></line> <line x1="12" y1="16" x2="12.01" y2="16" data-astro-cid-rkg3zjxi></line> </svg> <div data-astro-cid-rkg3zjxi> <strong data-astro-cid-rkg3zjxi>AI-Generated Content:</strong> This article was created with AI assistance. Please verify important information and check original references.
</div> </div> <div class="post-layout" data-astro-cid-rkg3zjxi> <aside class="sidebar-left" data-astro-cid-rkg3zjxi> <nav class="toc" aria-label="Table of Contents" data-astro-cid-xvrfupwn> <div class="toc-title" data-astro-cid-xvrfupwn>On this page</div> <ul data-astro-cid-xvrfupwn> <li class="d-2" data-astro-cid-xvrfupwn><a href="#table-of-contents" data-astro-cid-xvrfupwn>Table of Contents</a></li><li class="d-2" data-astro-cid-xvrfupwn><a href="#introduction-to-microservices-patterns-introduction" data-astro-cid-xvrfupwn>Introduction to Microservices Patterns {#introduction}</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#why-patterns-matter" data-astro-cid-xvrfupwn>Why Patterns Matter</a></li><li class="d-2" data-astro-cid-xvrfupwn><a href="#communication-patterns-communication-patterns" data-astro-cid-xvrfupwn>Communication Patterns {#communication-patterns}</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#1-api-gateway-pattern" data-astro-cid-xvrfupwn>1. API Gateway Pattern</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#2-service-mesh-pattern" data-astro-cid-xvrfupwn>2. Service Mesh Pattern</a></li><li class="d-2" data-astro-cid-xvrfupwn><a href="#data-management-patterns-data-management" data-astro-cid-xvrfupwn>Data Management Patterns {#data-management}</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#3-database-per-service-pattern" data-astro-cid-xvrfupwn>3. Database per Service Pattern</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#4-saga-pattern" data-astro-cid-xvrfupwn>4. Saga Pattern</a></li><li class="d-4" data-astro-cid-xvrfupwn><a href="#choreography-based-saga" data-astro-cid-xvrfupwn>Choreography-Based Saga</a></li><li class="d-4" data-astro-cid-xvrfupwn><a href="#orchestration-based-saga" data-astro-cid-xvrfupwn>Orchestration-Based Saga</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#5-cqrs-pattern-command-query-responsibility-segregation" data-astro-cid-xvrfupwn>5. CQRS Pattern (Command Query Responsibility Segregation)</a></li><li class="d-2" data-astro-cid-xvrfupwn><a href="#resilience-patterns-resilience-patterns" data-astro-cid-xvrfupwn>Resilience Patterns {#resilience-patterns}</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#6-circuit-breaker-pattern" data-astro-cid-xvrfupwn>6. Circuit Breaker Pattern</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#7-retry-pattern" data-astro-cid-xvrfupwn>7. Retry Pattern</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#8-bulkhead-pattern" data-astro-cid-xvrfupwn>8. Bulkhead Pattern</a></li><li class="d-2" data-astro-cid-xvrfupwn><a href="#deployment-and-infrastructure-patterns-deployment-patterns" data-astro-cid-xvrfupwn>Deployment and Infrastructure Patterns {#deployment-patterns}</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#9-service-registry-and-discovery" data-astro-cid-xvrfupwn>9. Service Registry and Discovery</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#10-externalized-configuration" data-astro-cid-xvrfupwn>10. Externalized Configuration</a></li><li class="d-2" data-astro-cid-xvrfupwn><a href="#real-world-implementation-examples-examples" data-astro-cid-xvrfupwn>Real-World Implementation Examples {#examples}</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#e-commerce-platform-architecture" data-astro-cid-xvrfupwn>E-Commerce Platform Architecture</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#banking-system-with-saga-pattern" data-astro-cid-xvrfupwn>Banking System with Saga Pattern</a></li><li class="d-2" data-astro-cid-xvrfupwn><a href="#best-practices-summary" data-astro-cid-xvrfupwn>Best Practices Summary</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#do" data-astro-cid-xvrfupwn>DO:</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#dont" data-astro-cid-xvrfupwn>DON&#39;T:</a></li><li class="d-2" data-astro-cid-xvrfupwn><a href="#conclusion" data-astro-cid-xvrfupwn>Conclusion</a></li><li class="d-2" data-astro-cid-xvrfupwn><a href="#further-reading" data-astro-cid-xvrfupwn>Further Reading</a></li> </ul> </nav>  </aside> <article class="post" data-astro-cid-rkg3zjxi> <header class="post-header" data-astro-cid-rkg3zjxi> <h1 data-astro-cid-rkg3zjxi>Microservices Design Patterns: Best Practices for Scalable Systems</h1> <div class="meta" data-astro-cid-rkg3zjxi> <time datetime="2025-11-01T10:00:00.000Z" data-astro-cid-rkg3zjxi>Sat Nov 01 2025</time> <span data-astro-cid-rkg3zjxi>• 6 min read</span> </div> <div class="tag-row" data-astro-cid-rkg3zjxi><span class="tag" data-astro-cid-rkg3zjxi>Software architecture</span><span class="tag" data-astro-cid-rkg3zjxi>Microservices</span><span class="tag" data-astro-cid-rkg3zjxi>Design patterns</span></div> </header> <div class="post-body prose" data-astro-cid-rkg3zjxi> <h1 id="microservices-design-patterns-best-practices-for-scalable-systems">Microservices Design Patterns: Best Practices for Scalable Systems</h1>
<p>Microservices architecture has become the de facto standard for building scalable, maintainable enterprise applications. However, implementing microservices successfully requires understanding and applying proven design patterns. In this comprehensive guide, we’ll explore the essential patterns that form the foundation of robust microservices systems.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#introduction">Introduction to Microservices Patterns</a></li>
<li><a href="#communication-patterns">Communication Patterns</a></li>
<li><a href="#data-management">Data Management Patterns</a></li>
<li><a href="#resilience-patterns">Resilience Patterns</a></li>
<li><a href="#deployment-patterns">Deployment and Infrastructure Patterns</a></li>
<li><a href="#examples">Real-World Implementation Examples</a></li>
</ol>
<h2 id="introduction-to-microservices-patterns-introduction">Introduction to Microservices Patterns {#introduction}</h2>
<p>Microservices patterns solve common challenges in distributed systems:</p>
<ul>
<li><strong>Service discovery and communication</strong></li>
<li><strong>Data consistency across services</strong></li>
<li><strong>Failure handling and resilience</strong></li>
<li><strong>Monitoring and observability</strong></li>
<li><strong>Deployment and scaling</strong></li>
</ul>
<h3 id="why-patterns-matter">Why Patterns Matter</h3>
<p>When building microservices, you’ll encounter similar problems repeatedly. Patterns provide battle-tested solutions that:</p>
<p>✅ Reduce development time
✅ Improve system reliability
✅ Enable team collaboration
✅ Facilitate system evolution</p>
<h2 id="communication-patterns-communication-patterns">Communication Patterns {#communication-patterns}</h2>
<h3 id="1-api-gateway-pattern">1. API Gateway Pattern</h3>
<p>The API Gateway acts as a single entry point for all client requests, routing them to appropriate microservices.</p>
<p><strong>Benefits:</strong></p>
<ul>
<li>Simplified client interface</li>
<li>Cross-cutting concerns (auth, logging, rate limiting)</li>
<li>Protocol translation</li>
<li>Request aggregation</li>
</ul>
<p><strong>Implementation Example (Spring Cloud Gateway):</strong></p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Configuration</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> GatewayConfig</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Bean</span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#E6EDF3"> RouteLocator </span><span style="color:#D2A8FF">customRouteLocator</span><span style="color:#E6EDF3">(RouteLocatorBuilder </span><span style="color:#FFA657">builder</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#FF7B72">        return</span><span style="color:#E6EDF3"> builder.</span><span style="color:#D2A8FF">routes</span><span style="color:#E6EDF3">()</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">route</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"user-service"</span><span style="color:#E6EDF3">, r </span><span style="color:#FF7B72">-></span><span style="color:#E6EDF3"> r</span></span>
<span class="line"><span style="color:#E6EDF3">                .</span><span style="color:#D2A8FF">path</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"/api/users/**"</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">                .</span><span style="color:#D2A8FF">filters</span><span style="color:#E6EDF3">(f </span><span style="color:#FF7B72">-></span><span style="color:#E6EDF3"> f</span></span>
<span class="line"><span style="color:#E6EDF3">                    .</span><span style="color:#D2A8FF">rewritePath</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"/api/users/(?&#x3C;segment>.*)"</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">"/${segment}"</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">                    .</span><span style="color:#D2A8FF">addRequestHeader</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"X-Gateway-Source"</span><span style="color:#E6EDF3">, </span><span style="color:#A5D6FF">"API-Gateway"</span><span style="color:#E6EDF3">))</span></span>
<span class="line"><span style="color:#E6EDF3">                .</span><span style="color:#D2A8FF">uri</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"lb://USER-SERVICE"</span><span style="color:#E6EDF3">))</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">route</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"order-service"</span><span style="color:#E6EDF3">, r </span><span style="color:#FF7B72">-></span><span style="color:#E6EDF3"> r</span></span>
<span class="line"><span style="color:#E6EDF3">                .</span><span style="color:#D2A8FF">path</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"/api/orders/**"</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">                .</span><span style="color:#D2A8FF">filters</span><span style="color:#E6EDF3">(f </span><span style="color:#FF7B72">-></span><span style="color:#E6EDF3"> f</span></span>
<span class="line"><span style="color:#E6EDF3">                    .</span><span style="color:#D2A8FF">circuitBreaker</span><span style="color:#E6EDF3">(c </span><span style="color:#FF7B72">-></span><span style="color:#E6EDF3"> c</span></span>
<span class="line"><span style="color:#E6EDF3">                        .</span><span style="color:#D2A8FF">setName</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"orderServiceCircuitBreaker"</span><span style="color:#E6EDF3">)</span></span>
<span class="line"><span style="color:#E6EDF3">                        .</span><span style="color:#D2A8FF">setFallbackUri</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"forward:/fallback/orders"</span><span style="color:#E6EDF3">)))</span></span>
<span class="line"><span style="color:#E6EDF3">                .</span><span style="color:#D2A8FF">uri</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"lb://ORDER-SERVICE"</span><span style="color:#E6EDF3">))</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">build</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Best Practices:</strong></p>
<ul>
<li>Keep gateway logic thin</li>
<li>Implement request/response transformation at gateway level</li>
<li>Use caching for frequently accessed data</li>
<li>Monitor gateway performance metrics</li>
</ul>
<h3 id="2-service-mesh-pattern">2. Service Mesh Pattern</h3>
<p>Service mesh handles service-to-service communication at the infrastructure level.</p>
<p><strong>Key Features:</strong></p>
<ul>
<li>Load balancing</li>
<li>Service discovery</li>
<li>Failure recovery</li>
<li>Metrics collection</li>
<li>Distributed tracing</li>
</ul>
<p><strong>Popular Implementations:</strong></p>
<ul>
<li>Istio</li>
<li>Linkerd</li>
<li>Consul Connect</li>
</ul>
<h2 id="data-management-patterns-data-management">Data Management Patterns {#data-management}</h2>
<h3 id="3-database-per-service-pattern">3. Database per Service Pattern</h3>
<p>Each microservice owns its database, ensuring loose coupling and independent scaling.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>Service independence</li>
<li>Technology flexibility</li>
<li>Easier scaling</li>
<li>Fault isolation</li>
</ul>
<p><strong>Challenges:</strong></p>
<ul>
<li>Data consistency</li>
<li>Complex queries across services</li>
<li>Increased operational overhead</li>
</ul>
<h3 id="4-saga-pattern">4. Saga Pattern</h3>
<p>Manages distributed transactions across multiple services using a sequence of local transactions.</p>
<p><strong>Two Implementation Approaches:</strong></p>
<h4 id="choreography-based-saga">Choreography-Based Saga</h4>
<p>Services communicate through events:</p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Service</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> OrderService</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Autowired</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#E6EDF3"> EventPublisher</span><span style="color:#E6EDF3"> eventPublisher;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Autowired</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#E6EDF3"> OrderRepository</span><span style="color:#E6EDF3"> orderRepository;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Transactional</span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#E6EDF3"> Order </span><span style="color:#D2A8FF">createOrder</span><span style="color:#E6EDF3">(OrderRequest </span><span style="color:#FFA657">request</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#8B949E">        // Create order</span></span>
<span class="line"><span style="color:#E6EDF3">        Order</span><span style="color:#E6EDF3"> order</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> new</span><span style="color:#D2A8FF"> Order</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#E6EDF3">        order.</span><span style="color:#D2A8FF">setStatus</span><span style="color:#E6EDF3">(OrderStatus.PENDING);</span></span>
<span class="line"><span style="color:#E6EDF3">        order.</span><span style="color:#D2A8FF">setCustomerId</span><span style="color:#E6EDF3">(request.</span><span style="color:#D2A8FF">getCustomerId</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">        order.</span><span style="color:#D2A8FF">setTotalAmount</span><span style="color:#E6EDF3">(request.</span><span style="color:#D2A8FF">getTotalAmount</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#E6EDF3">        orderRepository.</span><span style="color:#D2A8FF">save</span><span style="color:#E6EDF3">(order);</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#8B949E">        // Publish event</span></span>
<span class="line"><span style="color:#E6EDF3">        eventPublisher.</span><span style="color:#D2A8FF">publish</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">new</span><span style="color:#D2A8FF"> OrderCreatedEvent</span><span style="color:#E6EDF3">(</span></span>
<span class="line"><span style="color:#E6EDF3">            order.</span><span style="color:#D2A8FF">getId</span><span style="color:#E6EDF3">(),</span></span>
<span class="line"><span style="color:#E6EDF3">            order.</span><span style="color:#D2A8FF">getCustomerId</span><span style="color:#E6EDF3">(),</span></span>
<span class="line"><span style="color:#E6EDF3">            order.</span><span style="color:#D2A8FF">getTotalAmount</span><span style="color:#E6EDF3">()</span></span>
<span class="line"><span style="color:#E6EDF3">        ));</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#FF7B72">        return</span><span style="color:#E6EDF3"> order;</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">EventListener</span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#FF7B72"> void</span><span style="color:#D2A8FF"> handlePaymentSucceeded</span><span style="color:#E6EDF3">(PaymentSucceededEvent </span><span style="color:#FFA657">event</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#E6EDF3">        Order</span><span style="color:#E6EDF3"> order</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> orderRepository.</span><span style="color:#D2A8FF">findById</span><span style="color:#E6EDF3">(event.</span><span style="color:#D2A8FF">getOrderId</span><span style="color:#E6EDF3">())</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">orElseThrow</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#E6EDF3">        order.</span><span style="color:#D2A8FF">setStatus</span><span style="color:#E6EDF3">(OrderStatus.CONFIRMED);</span></span>
<span class="line"><span style="color:#E6EDF3">        orderRepository.</span><span style="color:#D2A8FF">save</span><span style="color:#E6EDF3">(order);</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#E6EDF3">        eventPublisher.</span><span style="color:#D2A8FF">publish</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">new</span><span style="color:#D2A8FF"> OrderConfirmedEvent</span><span style="color:#E6EDF3">(order.</span><span style="color:#D2A8FF">getId</span><span style="color:#E6EDF3">()));</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">EventListener</span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#FF7B72"> void</span><span style="color:#D2A8FF"> handlePaymentFailed</span><span style="color:#E6EDF3">(PaymentFailedEvent </span><span style="color:#FFA657">event</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#E6EDF3">        Order</span><span style="color:#E6EDF3"> order</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> orderRepository.</span><span style="color:#D2A8FF">findById</span><span style="color:#E6EDF3">(event.</span><span style="color:#D2A8FF">getOrderId</span><span style="color:#E6EDF3">())</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">orElseThrow</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#E6EDF3">        order.</span><span style="color:#D2A8FF">setStatus</span><span style="color:#E6EDF3">(OrderStatus.CANCELLED);</span></span>
<span class="line"><span style="color:#E6EDF3">        orderRepository.</span><span style="color:#D2A8FF">save</span><span style="color:#E6EDF3">(order);</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span></code></pre>
<h4 id="orchestration-based-saga">Orchestration-Based Saga</h4>
<p>Central orchestrator coordinates the saga:</p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Service</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> OrderSagaOrchestrator</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Autowired</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#E6EDF3"> PaymentService</span><span style="color:#E6EDF3"> paymentService;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Autowired</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#E6EDF3"> InventoryService</span><span style="color:#E6EDF3"> inventoryService;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Autowired</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#E6EDF3"> ShippingService</span><span style="color:#E6EDF3"> shippingService;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#FF7B72"> void</span><span style="color:#D2A8FF"> executeOrderSaga</span><span style="color:#E6EDF3">(Order </span><span style="color:#FFA657">order</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#FF7B72">        try</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#8B949E">            // Step 1: Reserve inventory</span></span>
<span class="line"><span style="color:#E6EDF3">            InventoryReservation</span><span style="color:#E6EDF3"> reservation</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> </span></span>
<span class="line"><span style="color:#E6EDF3">                inventoryService.</span><span style="color:#D2A8FF">reserveItems</span><span style="color:#E6EDF3">(order.</span><span style="color:#D2A8FF">getItems</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">            </span></span>
<span class="line"><span style="color:#8B949E">            // Step 2: Process payment</span></span>
<span class="line"><span style="color:#E6EDF3">            Payment</span><span style="color:#E6EDF3"> payment</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> </span></span>
<span class="line"><span style="color:#E6EDF3">                paymentService.</span><span style="color:#D2A8FF">processPayment</span><span style="color:#E6EDF3">(order.</span><span style="color:#D2A8FF">getTotalAmount</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">            </span></span>
<span class="line"><span style="color:#8B949E">            // Step 3: Schedule shipping</span></span>
<span class="line"><span style="color:#E6EDF3">            Shipment</span><span style="color:#E6EDF3"> shipment</span><span style="color:#FF7B72"> =</span><span style="color:#E6EDF3"> </span></span>
<span class="line"><span style="color:#E6EDF3">                shippingService.</span><span style="color:#D2A8FF">scheduleShipment</span><span style="color:#E6EDF3">(order, reservation);</span></span>
<span class="line"><span style="color:#E6EDF3">            </span></span>
<span class="line"><span style="color:#E6EDF3">            order.</span><span style="color:#D2A8FF">setStatus</span><span style="color:#E6EDF3">(OrderStatus.COMPLETED);</span></span>
<span class="line"><span style="color:#E6EDF3">            </span></span>
<span class="line"><span style="color:#E6EDF3">        } </span><span style="color:#FF7B72">catch</span><span style="color:#E6EDF3"> (InventoryException </span><span style="color:#FFA657">e</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#8B949E">            // Handle inventory failure</span></span>
<span class="line"><span style="color:#E6EDF3">            order.</span><span style="color:#D2A8FF">setStatus</span><span style="color:#E6EDF3">(OrderStatus.CANCELLED);</span></span>
<span class="line"><span style="color:#E6EDF3">        } </span><span style="color:#FF7B72">catch</span><span style="color:#E6EDF3"> (PaymentException </span><span style="color:#FFA657">e</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#8B949E">            // Compensate: Release inventory</span></span>
<span class="line"><span style="color:#E6EDF3">            inventoryService.</span><span style="color:#D2A8FF">releaseReservation</span><span style="color:#E6EDF3">(reservation);</span></span>
<span class="line"><span style="color:#E6EDF3">            order.</span><span style="color:#D2A8FF">setStatus</span><span style="color:#E6EDF3">(OrderStatus.CANCELLED);</span></span>
<span class="line"><span style="color:#E6EDF3">        } </span><span style="color:#FF7B72">catch</span><span style="color:#E6EDF3"> (ShippingException </span><span style="color:#FFA657">e</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#8B949E">            // Compensate: Refund payment and release inventory</span></span>
<span class="line"><span style="color:#E6EDF3">            paymentService.</span><span style="color:#D2A8FF">refund</span><span style="color:#E6EDF3">(payment);</span></span>
<span class="line"><span style="color:#E6EDF3">            inventoryService.</span><span style="color:#D2A8FF">releaseReservation</span><span style="color:#E6EDF3">(reservation);</span></span>
<span class="line"><span style="color:#E6EDF3">            order.</span><span style="color:#D2A8FF">setStatus</span><span style="color:#E6EDF3">(OrderStatus.CANCELLED);</span></span>
<span class="line"><span style="color:#E6EDF3">        }</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span></code></pre>
<h3 id="5-cqrs-pattern-command-query-responsibility-segregation">5. CQRS Pattern (Command Query Responsibility Segregation)</h3>
<p>Separates read and write operations into different models.</p>
<p><strong>Implementation Example:</strong></p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#8B949E">// Command Side</span></span>
<span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Service</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> ProductCommandService</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Autowired</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#E6EDF3"> ProductWriteRepository</span><span style="color:#E6EDF3"> writeRepository;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Autowired</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#E6EDF3"> EventBus</span><span style="color:#E6EDF3"> eventBus;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Transactional</span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#FF7B72"> void</span><span style="color:#D2A8FF"> createProduct</span><span style="color:#E6EDF3">(CreateProductCommand </span><span style="color:#FFA657">command</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#E6EDF3">        Product</span><span style="color:#E6EDF3"> product</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> new</span><span style="color:#D2A8FF"> Product</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#E6EDF3">        product.</span><span style="color:#D2A8FF">setName</span><span style="color:#E6EDF3">(command.</span><span style="color:#D2A8FF">getName</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">        product.</span><span style="color:#D2A8FF">setPrice</span><span style="color:#E6EDF3">(command.</span><span style="color:#D2A8FF">getPrice</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">        product.</span><span style="color:#D2A8FF">setStock</span><span style="color:#E6EDF3">(command.</span><span style="color:#D2A8FF">getStock</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#E6EDF3">        writeRepository.</span><span style="color:#D2A8FF">save</span><span style="color:#E6EDF3">(product);</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#E6EDF3">        eventBus.</span><span style="color:#D2A8FF">publish</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">new</span><span style="color:#D2A8FF"> ProductCreatedEvent</span><span style="color:#E6EDF3">(product));</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E">// Query Side</span></span>
<span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Service</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> ProductQueryService</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Autowired</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#E6EDF3"> ProductReadRepository</span><span style="color:#E6EDF3"> readRepository;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#E6EDF3"> ProductDTO </span><span style="color:#D2A8FF">getProduct</span><span style="color:#E6EDF3">(String </span><span style="color:#FFA657">id</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#FF7B72">        return</span><span style="color:#E6EDF3"> readRepository.</span><span style="color:#D2A8FF">findById</span><span style="color:#E6EDF3">(id)</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">map</span><span style="color:#E6EDF3">(</span><span style="color:#79C0FF">this</span><span style="color:#FF7B72">::</span><span style="color:#E6EDF3">toDTO)</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">orElseThrow</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#E6EDF3"> List&#x3C;</span><span style="color:#FF7B72">ProductDTO</span><span style="color:#E6EDF3">> </span><span style="color:#D2A8FF">searchProducts</span><span style="color:#E6EDF3">(SearchCriteria </span><span style="color:#FFA657">criteria</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#FF7B72">        return</span><span style="color:#E6EDF3"> readRepository.</span><span style="color:#D2A8FF">search</span><span style="color:#E6EDF3">(criteria)</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">stream</span><span style="color:#E6EDF3">()</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">map</span><span style="color:#E6EDF3">(</span><span style="color:#79C0FF">this</span><span style="color:#FF7B72">::</span><span style="color:#E6EDF3">toDTO)</span></span>
<span class="line"><span style="color:#E6EDF3">            .</span><span style="color:#D2A8FF">collect</span><span style="color:#E6EDF3">(Collectors.</span><span style="color:#D2A8FF">toList</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E">// Event Handler to sync read model</span></span>
<span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Component</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> ProductEventHandler</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">Autowired</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#E6EDF3"> ProductReadRepository</span><span style="color:#E6EDF3"> readRepository;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#E6EDF3">    @</span><span style="color:#FF7B72">EventListener</span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#FF7B72"> void</span><span style="color:#D2A8FF"> on</span><span style="color:#E6EDF3">(ProductCreatedEvent </span><span style="color:#FFA657">event</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#E6EDF3">        ProductReadModel</span><span style="color:#E6EDF3"> model</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> new</span><span style="color:#D2A8FF"> ProductReadModel</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#E6EDF3">        model.</span><span style="color:#D2A8FF">setId</span><span style="color:#E6EDF3">(event.</span><span style="color:#D2A8FF">getProductId</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">        model.</span><span style="color:#D2A8FF">setName</span><span style="color:#E6EDF3">(event.</span><span style="color:#D2A8FF">getName</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">        model.</span><span style="color:#D2A8FF">setPrice</span><span style="color:#E6EDF3">(event.</span><span style="color:#D2A8FF">getPrice</span><span style="color:#E6EDF3">());</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#E6EDF3">        readRepository.</span><span style="color:#D2A8FF">save</span><span style="color:#E6EDF3">(model);</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span></code></pre>
<h2 id="resilience-patterns-resilience-patterns">Resilience Patterns {#resilience-patterns}</h2>
<h3 id="6-circuit-breaker-pattern">6. Circuit Breaker Pattern</h3>
<p>Prevents cascading failures by stopping calls to failing services.</p>
<p><strong>States:</strong></p>
<ul>
<li><strong>Closed</strong>: Normal operation</li>
<li><strong>Open</strong>: Requests fail immediately</li>
<li><strong>Half-Open</strong>: Testing if service recovered</li>
</ul>
<p><strong>Implementation with Resilience4j:</strong></p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Service</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> PaymentService</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#FF7B72"> final</span><span style="color:#E6EDF3"> CircuitBreaker</span><span style="color:#E6EDF3"> circuitBreaker;</span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#FF7B72"> final</span><span style="color:#E6EDF3"> RestTemplate</span><span style="color:#E6EDF3"> restTemplate;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#D2A8FF"> PaymentService</span><span style="color:#E6EDF3">(CircuitBreakerRegistry </span><span style="color:#FFA657">registry</span><span style="color:#E6EDF3">, </span></span>
<span class="line"><span style="color:#E6EDF3">                         RestTemplate </span><span style="color:#FFA657">restTemplate</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#79C0FF">        this</span><span style="color:#E6EDF3">.circuitBreaker </span><span style="color:#FF7B72">=</span><span style="color:#E6EDF3"> registry.</span><span style="color:#D2A8FF">circuitBreaker</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"payment-service"</span><span style="color:#E6EDF3">);</span></span>
<span class="line"><span style="color:#79C0FF">        this</span><span style="color:#E6EDF3">.restTemplate </span><span style="color:#FF7B72">=</span><span style="color:#E6EDF3"> restTemplate;</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#E6EDF3"> PaymentResponse </span><span style="color:#D2A8FF">processPayment</span><span style="color:#E6EDF3">(PaymentRequest </span><span style="color:#FFA657">request</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#FF7B72">        return</span><span style="color:#E6EDF3"> circuitBreaker.</span><span style="color:#D2A8FF">executeSupplier</span><span style="color:#E6EDF3">(() </span><span style="color:#FF7B72">-></span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#FF7B72">            return</span><span style="color:#E6EDF3"> restTemplate.</span><span style="color:#D2A8FF">postForObject</span><span style="color:#E6EDF3">(</span></span>
<span class="line"><span style="color:#A5D6FF">                "http://payment-service/api/payments"</span><span style="color:#E6EDF3">,</span></span>
<span class="line"><span style="color:#E6EDF3">                request,</span></span>
<span class="line"><span style="color:#E6EDF3">                PaymentResponse.class</span></span>
<span class="line"><span style="color:#E6EDF3">            );</span></span>
<span class="line"><span style="color:#E6EDF3">        });</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Configuration:</strong></p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#7EE787">resilience4j</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">  circuitbreaker</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">    instances</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">      payment-service</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">        register-health-indicator</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">true</span></span>
<span class="line"><span style="color:#7EE787">        sliding-window-size</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">10</span></span>
<span class="line"><span style="color:#7EE787">        minimum-number-of-calls</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">5</span></span>
<span class="line"><span style="color:#7EE787">        permitted-number-of-calls-in-half-open-state</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">3</span></span>
<span class="line"><span style="color:#7EE787">        automatic-transition-from-open-to-half-open-enabled</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">true</span></span>
<span class="line"><span style="color:#7EE787">        wait-duration-in-open-state</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">10s</span></span>
<span class="line"><span style="color:#7EE787">        failure-rate-threshold</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">50</span></span>
<span class="line"><span style="color:#7EE787">        slow-call-rate-threshold</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">100</span></span>
<span class="line"><span style="color:#7EE787">        slow-call-duration-threshold</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">2s</span></span>
<span class="line"></span></code></pre>
<h3 id="7-retry-pattern">7. Retry Pattern</h3>
<p>Automatically retries failed operations with exponential backoff.</p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Service</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> OrderService</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#FF7B72"> final</span><span style="color:#E6EDF3"> Retry</span><span style="color:#E6EDF3"> retry;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#D2A8FF"> OrderService</span><span style="color:#E6EDF3">(RetryRegistry </span><span style="color:#FFA657">retryRegistry</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#79C0FF">        this</span><span style="color:#E6EDF3">.retry </span><span style="color:#FF7B72">=</span><span style="color:#E6EDF3"> retryRegistry.</span><span style="color:#D2A8FF">retry</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"order-service"</span><span style="color:#E6EDF3">);</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#E6EDF3"> Order </span><span style="color:#D2A8FF">placeOrder</span><span style="color:#E6EDF3">(OrderRequest </span><span style="color:#FFA657">request</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#FF7B72">        return</span><span style="color:#E6EDF3"> retry.</span><span style="color:#D2A8FF">executeSupplier</span><span style="color:#E6EDF3">(() </span><span style="color:#FF7B72">-></span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#FF7B72">            return</span><span style="color:#E6EDF3"> externalOrderApi.</span><span style="color:#D2A8FF">createOrder</span><span style="color:#E6EDF3">(request);</span></span>
<span class="line"><span style="color:#E6EDF3">        });</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span></code></pre>
<p><strong>Configuration:</strong></p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#7EE787">resilience4j</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">  retry</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">    instances</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">      order-service</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">        max-attempts</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">3</span></span>
<span class="line"><span style="color:#7EE787">        wait-duration</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">1s</span></span>
<span class="line"><span style="color:#7EE787">        exponential-backoff-multiplier</span><span style="color:#E6EDF3">: </span><span style="color:#79C0FF">2</span></span>
<span class="line"><span style="color:#7EE787">        retry-exceptions</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#E6EDF3">          - </span><span style="color:#A5D6FF">org.springframework.web.client.ResourceAccessException</span></span>
<span class="line"><span style="color:#E6EDF3">          - </span><span style="color:#A5D6FF">java.net.ConnectException</span></span>
<span class="line"></span></code></pre>
<h3 id="8-bulkhead-pattern">8. Bulkhead Pattern</h3>
<p>Isolates resources to prevent one failing component from bringing down the entire system.</p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Service</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> ReportService</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    private</span><span style="color:#FF7B72"> final</span><span style="color:#E6EDF3"> Bulkhead</span><span style="color:#E6EDF3"> bulkhead;</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#D2A8FF"> ReportService</span><span style="color:#E6EDF3">(BulkheadRegistry </span><span style="color:#FFA657">registry</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#79C0FF">        this</span><span style="color:#E6EDF3">.bulkhead </span><span style="color:#FF7B72">=</span><span style="color:#E6EDF3"> registry.</span><span style="color:#D2A8FF">bulkhead</span><span style="color:#E6EDF3">(</span><span style="color:#A5D6FF">"report-service"</span><span style="color:#E6EDF3">);</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#E6EDF3"> CompletableFuture&#x3C;</span><span style="color:#FF7B72">Report</span><span style="color:#E6EDF3">> </span><span style="color:#D2A8FF">generateReport</span><span style="color:#E6EDF3">(ReportRequest </span><span style="color:#FFA657">request</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#FF7B72">        return</span><span style="color:#E6EDF3"> bulkhead.</span><span style="color:#D2A8FF">executeSupplier</span><span style="color:#E6EDF3">(() </span><span style="color:#FF7B72">-></span><span style="color:#E6EDF3"> </span></span>
<span class="line"><span style="color:#E6EDF3">            CompletableFuture.</span><span style="color:#D2A8FF">supplyAsync</span><span style="color:#E6EDF3">(() </span><span style="color:#FF7B72">-></span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#8B949E">                // Heavy report generation</span></span>
<span class="line"><span style="color:#FF7B72">                return</span><span style="color:#E6EDF3"> reportGenerator.</span><span style="color:#D2A8FF">generate</span><span style="color:#E6EDF3">(request);</span></span>
<span class="line"><span style="color:#E6EDF3">            })</span></span>
<span class="line"><span style="color:#E6EDF3">        );</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span></code></pre>
<h2 id="deployment-and-infrastructure-patterns-deployment-patterns">Deployment and Infrastructure Patterns {#deployment-patterns}</h2>
<h3 id="9-service-registry-and-discovery">9. Service Registry and Discovery</h3>
<p>Services register themselves and discover other services dynamically.</p>
<p><strong>Spring Cloud Netflix Eureka Example:</strong></p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#8B949E">// Eureka Server</span></span>
<span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">SpringBootApplication</span></span>
<span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">EnableEurekaServer</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> DiscoveryServerApplication</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#FF7B72"> static</span><span style="color:#FF7B72"> void</span><span style="color:#D2A8FF"> main</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">String</span><span style="color:#E6EDF3">[] </span><span style="color:#FFA657">args</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#E6EDF3">        SpringApplication.</span><span style="color:#D2A8FF">run</span><span style="color:#E6EDF3">(DiscoveryServerApplication.class, args);</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8B949E">// Service Registration</span></span>
<span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">SpringBootApplication</span></span>
<span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">EnableDiscoveryClient</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> UserServiceApplication</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#FF7B72"> static</span><span style="color:#FF7B72"> void</span><span style="color:#D2A8FF"> main</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">String</span><span style="color:#E6EDF3">[] </span><span style="color:#FFA657">args</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#E6EDF3">        SpringApplication.</span><span style="color:#D2A8FF">run</span><span style="color:#E6EDF3">(UserServiceApplication.class, args);</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span></code></pre>
<h3 id="10-externalized-configuration">10. Externalized Configuration</h3>
<p>Centralize configuration management for all services.</p>
<p><strong>Spring Cloud Config:</strong></p>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#8B949E"># application.yml in config server</span></span>
<span class="line"><span style="color:#7EE787">spring</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">  cloud</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">    config</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">      server</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">        git</span><span style="color:#E6EDF3">:</span></span>
<span class="line"><span style="color:#7EE787">          uri</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">https://github.com/yourorg/config-repo</span></span>
<span class="line"><span style="color:#7EE787">          search-paths</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">'{application}'</span></span>
<span class="line"><span style="color:#7EE787">          default-label</span><span style="color:#E6EDF3">: </span><span style="color:#A5D6FF">main</span></span>
<span class="line"></span></code></pre>
<h2 id="real-world-implementation-examples-examples">Real-World Implementation Examples {#examples}</h2>
<h3 id="e-commerce-platform-architecture">E-Commerce Platform Architecture</h3>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>┌─────────────────┐</span></span>
<span class="line"><span>│   API Gateway   │</span></span>
<span class="line"><span>└────────┬────────┘</span></span>
<span class="line"><span>         │</span></span>
<span class="line"><span>    ┌────┴────┬─────────┬──────────┐</span></span>
<span class="line"><span>    │         │         │          │</span></span>
<span class="line"><span>┌───▼───┐ ┌──▼───┐ ┌───▼────┐ ┌──▼─────┐</span></span>
<span class="line"><span>│ User  │ │Order │ │Product │ │Payment │</span></span>
<span class="line"><span>│Service│ │Svc   │ │Service │ │Service │</span></span>
<span class="line"><span>└───┬───┘ └──┬───┘ └───┬────┘ └──┬─────┘</span></span>
<span class="line"><span>    │        │         │          │</span></span>
<span class="line"><span>┌───▼────────▼─────────▼──────────▼───┐</span></span>
<span class="line"><span>│       Event Bus (Kafka/RabbitMQ)    │</span></span>
<span class="line"><span>└─────────────────────────────────────┘</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="banking-system-with-saga-pattern">Banking System with Saga Pattern</h3>
<pre class="astro-code github-dark-default" style="background-color:#0d1117;color:#e6edf3; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="java"><code><span class="line"><span style="color:#E6EDF3">@</span><span style="color:#FF7B72">Component</span></span>
<span class="line"><span style="color:#FF7B72">public</span><span style="color:#FF7B72"> class</span><span style="color:#FFA657"> TransferSagaOrchestrator</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#E6EDF3">    </span></span>
<span class="line"><span style="color:#FF7B72">    public</span><span style="color:#FF7B72"> void</span><span style="color:#D2A8FF"> executeTransfer</span><span style="color:#E6EDF3">(TransferRequest </span><span style="color:#FFA657">request</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#E6EDF3">        SagaExecution</span><span style="color:#E6EDF3"> execution</span><span style="color:#FF7B72"> =</span><span style="color:#FF7B72"> new</span><span style="color:#D2A8FF"> SagaExecution</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#E6EDF3">        </span></span>
<span class="line"><span style="color:#FF7B72">        try</span><span style="color:#E6EDF3"> {</span></span>
<span class="line"><span style="color:#8B949E">            // Step 1: Debit source account</span></span>
<span class="line"><span style="color:#E6EDF3">            execution.</span><span style="color:#D2A8FF">addStep</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">new</span><span style="color:#D2A8FF"> DebitAccountStep</span><span style="color:#E6EDF3">(</span></span>
<span class="line"><span style="color:#E6EDF3">                request.</span><span style="color:#D2A8FF">getSourceAccount</span><span style="color:#E6EDF3">(),</span></span>
<span class="line"><span style="color:#E6EDF3">                request.</span><span style="color:#D2A8FF">getAmount</span><span style="color:#E6EDF3">()</span></span>
<span class="line"><span style="color:#E6EDF3">            ));</span></span>
<span class="line"><span style="color:#E6EDF3">            </span></span>
<span class="line"><span style="color:#8B949E">            // Step 2: Credit destination account</span></span>
<span class="line"><span style="color:#E6EDF3">            execution.</span><span style="color:#D2A8FF">addStep</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">new</span><span style="color:#D2A8FF"> CreditAccountStep</span><span style="color:#E6EDF3">(</span></span>
<span class="line"><span style="color:#E6EDF3">                request.</span><span style="color:#D2A8FF">getDestinationAccount</span><span style="color:#E6EDF3">(),</span></span>
<span class="line"><span style="color:#E6EDF3">                request.</span><span style="color:#D2A8FF">getAmount</span><span style="color:#E6EDF3">()</span></span>
<span class="line"><span style="color:#E6EDF3">            ));</span></span>
<span class="line"><span style="color:#E6EDF3">            </span></span>
<span class="line"><span style="color:#8B949E">            // Step 3: Create transaction record</span></span>
<span class="line"><span style="color:#E6EDF3">            execution.</span><span style="color:#D2A8FF">addStep</span><span style="color:#E6EDF3">(</span><span style="color:#FF7B72">new</span><span style="color:#D2A8FF"> RecordTransactionStep</span><span style="color:#E6EDF3">(</span></span>
<span class="line"><span style="color:#E6EDF3">                request</span></span>
<span class="line"><span style="color:#E6EDF3">            ));</span></span>
<span class="line"><span style="color:#E6EDF3">            </span></span>
<span class="line"><span style="color:#8B949E">            // Execute all steps</span></span>
<span class="line"><span style="color:#E6EDF3">            execution.</span><span style="color:#D2A8FF">execute</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#E6EDF3">            </span></span>
<span class="line"><span style="color:#E6EDF3">        } </span><span style="color:#FF7B72">catch</span><span style="color:#E6EDF3"> (SagaExecutionException </span><span style="color:#FFA657">e</span><span style="color:#E6EDF3">) {</span></span>
<span class="line"><span style="color:#8B949E">            // Compensate all completed steps</span></span>
<span class="line"><span style="color:#E6EDF3">            execution.</span><span style="color:#D2A8FF">compensate</span><span style="color:#E6EDF3">();</span></span>
<span class="line"><span style="color:#FF7B72">            throw</span><span style="color:#FF7B72"> new</span><span style="color:#D2A8FF"> TransferFailedException</span><span style="color:#E6EDF3">(e);</span></span>
<span class="line"><span style="color:#E6EDF3">        }</span></span>
<span class="line"><span style="color:#E6EDF3">    }</span></span>
<span class="line"><span style="color:#E6EDF3">}</span></span>
<span class="line"></span></code></pre>
<h2 id="best-practices-summary">Best Practices Summary</h2>
<h3 id="do">DO:</h3>
<p>✅ Use API Gateway for client-facing APIs
✅ Implement Circuit Breaker for external calls
✅ Use Saga pattern for distributed transactions
✅ Employ CQRS for complex read requirements
✅ Implement proper monitoring and observability
✅ Use service mesh for cross-cutting concerns
✅ Design for failure (defensive programming)</p>
<h3 id="dont">DON’T:</h3>
<p>❌ Share databases between services
❌ Create tightly coupled services
❌ Implement synchronous call chains
❌ Ignore failure scenarios
❌ Skimp on monitoring and logging
❌ Deploy all services together
❌ Use distributed transactions (2PC)</p>
<h2 id="conclusion">Conclusion</h2>
<p>Microservices patterns are essential tools for building robust distributed systems. By understanding and applying these patterns appropriately, you can:</p>
<ul>
<li>Build scalable systems that handle millions of requests</li>
<li>Create resilient architectures that gracefully handle failures</li>
<li>Enable independent team development and deployment</li>
<li>Facilitate system evolution and technology migration</li>
</ul>
<p>Remember: <strong>patterns are guidelines, not rules</strong>. Always evaluate your specific requirements and constraints before applying any pattern.</p>
<h2 id="further-reading">Further Reading</h2>
<ul>
<li><a href="https://martinfowler.com/microservices/">Martin Fowler’s Microservices Guide</a></li>
<li><a href="https://microservices.io/patterns/">Microservices.io Patterns</a></li>
<li><a href="https://www.manning.com/books/cloud-native-patterns">Cloud Native Patterns Book</a></li>
<li><a href="https://www.oreilly.com/library/view/building-microservices-2nd/9781492034018/">Building Microservices by Sam Newman</a></li>
</ul>
<hr>
<p><em>Have you implemented these patterns in your projects? What challenges did you face? Share your experiences in the comments below!</em></p> </div> </article> </div> <div class="back-link" data-astro-cid-rkg3zjxi><a href="/ai-news/" data-astro-cid-rkg3zjxi>← Back to AI News</a></div>  </main> <footer class="site-footer container"> <p>© 2025 AREZKI El Mehdi • <a href="https://github.com/earezki">GitHub</a> • <a href="/rss.xml">RSS</a></p> </footer>  <script>
      // Read/Unread article tracking
      (function() {
        const STORAGE_KEY = 'readArticles';
        
        function getReadArticles() {
          try {
            const data = localStorage.getItem(STORAGE_KEY);
            return data ? JSON.parse(data) : [];
          } catch (e) {
            return [];
          }
        }
        
        function markArticleAsRead(url) {
          try {
            const readArticles = getReadArticles();
            if (!readArticles.includes(url)) {
              readArticles.push(url);
              localStorage.setItem(STORAGE_KEY, JSON.stringify(readArticles));
            }
          } catch (e) {
            console.error('Failed to mark article as read:', e);
          }
        }
        
        function isArticleRead(url) {
          const readArticles = getReadArticles();
          return readArticles.includes(url);
        }
        
        // Update post cards on list pages
        function updatePostCards() {
          const postCards = document.querySelectorAll('.post-card[data-article-url]');
          postCards.forEach(function(card) {
            const url = card.getAttribute('data-article-url');
            if (url) {
              if (isArticleRead(url)) {
                card.classList.add('read');
                card.classList.remove('unread');
              } else {
                card.classList.add('unread');
                card.classList.remove('read');
              }
            }
          });
        }
        
        // Mark current article as read (on article pages)
        function markCurrentArticleAsRead() {
          const isArticlePage = document.querySelector('.post-body');
          if (isArticlePage) {
            const currentPath = window.location.pathname;
            markArticleAsRead(currentPath);
          }
        }
        
        // Initialize function
        function init() {
          updatePostCards();
          markCurrentArticleAsRead();
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', init);
        
        // Handle back/forward navigation (bfcache)
        window.addEventListener('pageshow', function(event) {
          // If page is loaded from cache, update the cards
          if (event.persisted) {
            init();
          }
        });
      })();
    </script> </body> </html> 