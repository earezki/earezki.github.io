<!DOCTYPE html><html lang="en" data-theme="dark"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Disaggregated Scheduled Fabric (DSF): Scaling Meta’s AI Infrastructure • Dev|Journal</title><meta name="description" content="Summary: Meta's Disaggregated Scheduled Fabric (DSF) for Scalable AI Training Meta has developed Disaggregated Scheduled Fabric (DSF), a next-generation…"><meta property="og:title" content="Disaggregated Scheduled Fabric (DSF): Scaling Meta’s AI Infrastructure • Dev|Journal"><meta property="og:site_name" content="Dev|Journal"><meta property="og:description" content="Summary: Meta's Disaggregated Scheduled Fabric (DSF) for Scalable AI Training Meta has developed Disaggregated Scheduled Fabric (DSF), a next-generation…"><link rel="canonical" href="https://earezki.com/ai-news/2025-10-20-disaggregated-scheduled-fabric-scaling-metas-ai-journey/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Disaggregated Scheduled Fabric (DSF): Scaling Meta’s AI Infrastructure • Dev|Journal"><meta name="twitter:description" content="Summary: Meta's Disaggregated Scheduled Fabric (DSF) for Scalable AI Training Meta has developed Disaggregated Scheduled Fabric (DSF), a next-generation…"><link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-161447264-1"></script><script defer src="https://cloud.umami.is/script.js" data-website-id="4a26531d-1053-4f79-97a6-06a1366aff91"></script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Disaggregated Scheduled Fabric (DSF): Scaling Meta’s AI Infrastructure","datePublished":"2025-10-20T00:00:00.000Z","dateModified":"2025-10-20T00:00:00.000Z","author":{"@type":"Person","name":"AREZKI El Mehdi"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://earezki.com/ai-news/2025-10-20-disaggregated-scheduled-fabric-scaling-metas-ai-journey/"},"description":"Summary: Meta's Disaggregated Scheduled Fabric (DSF) for Scalable AI Training Meta has developed Disaggregated Scheduled Fabric (DSF), a next-generation…"}</script><link rel="stylesheet" href="/_astro/_slug_.BIhZce9E.css">
<style>.post-layout[data-astro-cid-rkg3zjxi]{display:grid;grid-template-columns:260px 1fr;gap:2.5rem}.sidebar-left[data-astro-cid-rkg3zjxi]{position:relative}@media (max-width: 1080px){.post-layout[data-astro-cid-rkg3zjxi]{grid-template-columns:1fr}}.ai-disclaimer-article[data-astro-cid-rkg3zjxi]{display:flex;gap:.75rem;padding:.9rem 1.1rem;margin:0 auto 2rem;max-width:780px;background:linear-gradient(135deg,#667eea1a,#764ba21a,#f093fb1a);border:2px solid transparent;border-radius:var(--radius-md);position:relative;background-clip:padding-box;font-size:.85rem}.ai-disclaimer-article[data-astro-cid-rkg3zjxi]:before{content:"";position:absolute;inset:-2px;border-radius:var(--radius-md);padding:2px;background:var(--ai-gradient-border);background-size:200% 200%;animation:gradient-rotate 3s linear infinite;-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;pointer-events:none}html[data-theme=dark] .ai-disclaimer-article[data-astro-cid-rkg3zjxi]{background:linear-gradient(135deg,#667eea26,#764ba226,#f093fb26)}.ai-disclaimer-article[data-astro-cid-rkg3zjxi] svg[data-astro-cid-rkg3zjxi]{margin-top:.15rem}.ai-disclaimer-article[data-astro-cid-rkg3zjxi] strong[data-astro-cid-rkg3zjxi]{color:var(--color-text);display:block;margin-bottom:.15rem}.ai-disclaimer-article[data-astro-cid-rkg3zjxi] div[data-astro-cid-rkg3zjxi]{line-height:1.5;color:var(--color-text-alt)}
.toc[data-astro-cid-xvrfupwn]{position:sticky;top:90px;max-height:calc(100vh - 120px);overflow:auto;padding:1rem 1rem 1.2rem;background:var(--color-bg-alt);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:.8rem;line-height:1.3}.toc-title[data-astro-cid-xvrfupwn]{font-weight:600;font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;margin-bottom:.6rem;color:var(--color-text-alt)}.toc[data-astro-cid-xvrfupwn] ul[data-astro-cid-xvrfupwn]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.35rem}.toc[data-astro-cid-xvrfupwn] a[data-astro-cid-xvrfupwn]{text-decoration:none;color:var(--color-text-alt)}.toc[data-astro-cid-xvrfupwn] a[data-astro-cid-xvrfupwn]:hover{color:var(--color-accent)}.toc[data-astro-cid-xvrfupwn] li[data-astro-cid-xvrfupwn][class*=d-3]{margin-left:.75rem}.toc[data-astro-cid-xvrfupwn] li[data-astro-cid-xvrfupwn][class*=d-4]{margin-left:1.4rem}@media (max-width: 1080px){.toc[data-astro-cid-xvrfupwn]{display:none}}
</style><script type="module">const o=document.getElementById("themeToggle"),c=t=>{const n=o?.querySelector(".theme-icon"),e=o?.querySelector(".theme-text");n&&e&&(t==="dark"?(n.textContent="☀",e.textContent="light"):(n.textContent="☾",e.textContent="dark"))};if(o){const t=document.documentElement.getAttribute("data-theme")||"dark";c(t),o.addEventListener("click",()=>{const n=document.documentElement,e=n.getAttribute("data-theme")==="dark"?"light":"dark";n.setAttribute("data-theme",e),localStorage.setItem("theme",e),c(e)})}window.dataLayer=window.dataLayer||[];function d(){dataLayer.push(arguments)}d("js",new Date);d("config","UA-161447264-1");(function(){const t=localStorage.getItem("theme");t&&document.documentElement.setAttribute("data-theme",t)})();const r=document.getElementById("readingProgress"),a=()=>{const t=document.documentElement,n=t.scrollTop||document.body.scrollTop,e=t.scrollHeight-t.clientHeight,m=e>0?n/e*100:0;r.style.width=m+"%"};document.addEventListener("scroll",a,{passive:!0});a();
</script></head> <body> <div id="readingProgress" style="position:fixed;left:0;top:0;height:3px;background:linear-gradient(90deg,#2563eb,#9333ea);width:0;z-index:999;transition:width .15s ease;"></div>  <header class="site-header container"> <div class="logo-wrap"> <a class="logo" href="/">Dev|Journal</a> </div> <nav class="main-nav"> <a href="/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: -2px; margin-right: 4px;"> <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path> <polyline points="9 22 9 12 15 12 15 22"></polyline> </svg>
Home
</a> <a href="/ai-news/" class="ai-news-link"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: -2px; margin-right: 4px;"> <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h-9.5a.5.5 0 0 0-.5.5.5.5 0 0 1-1 0 .5.5 0 0 0-.5-.5H1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"></path> <path d="M7 15v4a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-4"></path> </svg>
AI News
</a> <a href="/tags/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: -2px; margin-right: 4px;"> <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2z"></path> <circle cx="7" cy="7" r="1.5"></circle> </svg>
Tags
</a> <a href="/about/"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: -2px; margin-right: 4px;"> <circle cx="12" cy="12" r="10"></circle> <path d="M12 16v-4"></path> <path d="M12 8h.01"></path> </svg>
About
</a> <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark mode"> <span class="theme-icon">☾</span> <span class="theme-text">dark</span> </button> </nav> </header> <main class="container content-area">  <div class="ai-disclaimer-article" data-astro-cid-rkg3zjxi> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="flex-shrink: 0;" data-astro-cid-rkg3zjxi> <circle cx="12" cy="12" r="10" data-astro-cid-rkg3zjxi></circle> <line x1="12" y1="8" x2="12" y2="12" data-astro-cid-rkg3zjxi></line> <line x1="12" y1="16" x2="12.01" y2="16" data-astro-cid-rkg3zjxi></line> </svg> <div data-astro-cid-rkg3zjxi> <strong data-astro-cid-rkg3zjxi>AI-Generated Content:</strong> This article was created with AI assistance. Please verify important information and check original references.
</div> </div> <div class="post-layout" data-astro-cid-rkg3zjxi> <aside class="sidebar-left" data-astro-cid-rkg3zjxi> <nav class="toc" aria-label="Table of Contents" data-astro-cid-xvrfupwn> <div class="toc-title" data-astro-cid-xvrfupwn>On this page</div> <ul data-astro-cid-xvrfupwn> <li class="d-2" data-astro-cid-xvrfupwn><a href="#summary-metas-disaggregated-scheduled-fabric-dsf-for-scalable-ai-training" data-astro-cid-xvrfupwn>Summary: Meta&#39;s Disaggregated Scheduled Fabric (DSF) for Scalable AI Training</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#overview-of-dsf" data-astro-cid-xvrfupwn>Overview of DSF</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#challenges-with-traditional-ip-fabric-for-ai-training" data-astro-cid-xvrfupwn>Challenges with Traditional IP Fabric for AI Training</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#dsf-architecture" data-astro-cid-xvrfupwn>DSF Architecture</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#input-balanced-mode-ibm" data-astro-cid-xvrfupwn>Input Balanced Mode (IBM)</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#future-directions" data-astro-cid-xvrfupwn>Future Directions</a></li><li class="d-3" data-astro-cid-xvrfupwn><a href="#conclusion" data-astro-cid-xvrfupwn>Conclusion</a></li> </ul> </nav>  </aside> <article class="post" data-astro-cid-rkg3zjxi> <header class="post-header" data-astro-cid-rkg3zjxi> <h1 data-astro-cid-rkg3zjxi>Disaggregated Scheduled Fabric (DSF): Scaling Meta’s AI Infrastructure</h1> <div class="meta" data-astro-cid-rkg3zjxi> <time datetime="2025-10-20T00:00:00.000Z" data-astro-cid-rkg3zjxi>Mon Oct 20 2025</time> <span data-astro-cid-rkg3zjxi>• 4 min read</span> </div> <div class="tag-row" data-astro-cid-rkg3zjxi><a class="tag ai-news-tag" href="/ai-news/" data-astro-cid-rkg3zjxi>AI News</a><span class="tag" data-astro-cid-rkg3zjxi>Data Center Engineering</span><span class="tag" data-astro-cid-rkg3zjxi>Networking &amp;amp; Traffic</span></div> </header> <div class="post-body prose" data-astro-cid-rkg3zjxi> <h2 id="summary-metas-disaggregated-scheduled-fabric-dsf-for-scalable-ai-training">Summary: Meta’s Disaggregated Scheduled Fabric (DSF) for Scalable AI Training</h2>
<p>Meta has developed Disaggregated Scheduled Fabric (DSF), a next-generation network fabric designed to overcome the limitations of traditional Clos-based networks in supporting large-scale AI training. DSF addresses challenges related to “elephant flows” and “low entropy” traffic patterns common in AI workloads.  The architecture separates the network into an Ethernet domain and a “fabric” domain, using packet spraying and a credit-based congestion control algorithm for optimal load balancing.  Key features include the ability to interconnect thousands of GPUs within a data center region and across multiple regions, along with a novel “Input Balanced Mode” for resilience against network failures.  Future work focuses on further enhancing scalability, addressing heterogeneity, and improving port utilization.</p>
<h3 id="overview-of-dsf">Overview of DSF</h3>
<p>DSF is a network fabric designed specifically for AI training workloads. It addresses the limitations of traditional network architectures like Clos networks, which struggle to efficiently handle the large, complex traffic patterns generated by AI models. DSF achieves scalability and performance by disaggregating network components into distinct, interconnected devices.</p>
<p><strong>Key Concepts:</strong></p>
<ul>
<li><strong>Disaggregation:</strong> Separates network components (line cards and fabric cards) into independent hardware devices.</li>
<li><strong>Packet Spraying:</strong> Distributes traffic across all available paths within the fabric.</li>
<li><strong>Credit-Based Congestion Control:</strong> Dynamically allocates bandwidth based on current path availability and congestion.</li>
<li><strong>Virtual Output Queuing (VOQ):</strong> Fine-grained traffic management, scheduling independent queues for specific destination ports and service classes.</li>
<li><strong>FBOSS:</strong> Meta’s open-source network operating system that orchestrates the DSF fabric.</li>
</ul>
<h3 id="challenges-with-traditional-ip-fabric-for-ai-training">Challenges with Traditional IP Fabric for AI Training</h3>
<p>Traditional IP fabric architectures encounter several challenges when supporting AI training:</p>
<ul>
<li><strong>Elephant Flows:</strong> Long-duration, high-bandwidth flows that can cause congestion.</li>
<li><strong>Low Entropy:</strong> Limited variation in flow patterns, leading to hash collisions and sub-optimal load distribution.</li>
<li><strong>Suboptimal Fabric Utilization:</strong>  Significant skew in bandwidth utilization across network paths.</li>
</ul>
<p>Meta explored solutions like Border Gateway Protocol (BGP) policies and load-aware ECMP schemes, but these solutions presented challenges related to tuning complexity, out-of-order packets, and failure scenarios. Traffic engineering solutions proved too complex to scale with network size.</p>
<h3 id="dsf-architecture">DSF Architecture</h3>
<p>DSF employs a two-domain architecture:</p>
<ol>
<li><strong>Ethernet Domain:</strong> Handles external connectivity and routing using traditional protocols.</li>
<li><strong>Fabric Domain:</strong>  Dedicated to high-speed traffic distribution between servers, using packet spraying and credit-based control.</li>
</ol>
<p><strong>Key Components:</strong></p>
<ul>
<li><strong>Interface Nodes (INs) / Rack Disaggregated Switches (RDSWs):</strong> Network-facing components responsible for external connectivity and routing.</li>
<li><strong>Fabric Nodes (FNs) / Fabric Disaggregated Switches (FDSWs):</strong> Internal switching elements dedicated to high-speed traffic distribution within the fabric.</li>
</ul>
<p><strong>Topology:</strong></p>
<ul>
<li><strong>AI Zone:</strong>  A building block consisting of multiple scaling units (SUx). Each SUx contains RDSWs connected via FDSWs.</li>
<li><strong>DSF L1 Zone:</strong>  Connects multiple AI zones. Uses FDSWs to aggregate L1 zones.</li>
<li><strong>DSF L2 Zone:</strong>  Connects multiple DSF L1 zones. Uses SDSWs (Spine Disaggregated Switches) to aggregate L2 zones.</li>
<li><strong>DSF Region:</strong> Connects multiple DSF L2 zones. Uses L3 super-spines for inter-region connectivity.</li>
</ul>
<h3 id="input-balanced-mode-ibm">Input Balanced Mode (IBM)</h3>
<p>A critical feature of DSF is Input Balanced Mode (IBM), designed to maintain balanced input capacity even during network link failures.</p>
<p><strong>How IBM Works:</strong></p>
<ul>
<li><strong>Failure Detection:</strong> When a link fails, the affected device reduces its advertised reachability to the affected neighbor(s).</li>
<li><strong>Randomized Link Selection:</strong>  The device randomly selects a subset of available links to stop advertising reachability, ensuring capacity is distributed.</li>
<li><strong>Propagation:</strong>  The failure information propagates throughout the network, with devices adjusting their link advertisements to maintain balance.</li>
</ul>
<p><strong>Types of Failures and Propagation:</strong></p>
<ul>
<li><strong>FDSW &#x3C;-> RDSW:</strong>  The FDSW reduces its capacity to the RDSW, and the RDSW propagates the reduced capacity to other FDSWs.</li>
<li><strong>FDSW &#x3C;-> SDSW:</strong> Similar to FDSW &#x3C;-> RDSW, the FDSW reduces its capacity to the SDSW, and the SDSW propagates the reduced capacity to other FDSWs.</li>
<li><strong>RDSW &#x3C;-> SDSW:</strong> The RDSW reduces its capacity to the SDSW, and the SDSW propagates the reduced capacity to other RDSWs.</li>
</ul>
<h3 id="future-directions">Future Directions</h3>
<ul>
<li><strong>Inter-Region Connectivity:</strong> Connecting multiple DSF zones to create larger, interconnected clusters spanning multiple regions. This presents challenges related to heterogeneity in hardware and network configurations.</li>
<li><strong>Enhanced Port Utilization:</strong>  Exploring technologies like “Hyperports” to combine multiple 800G ports into a single logical port, improving utilization and reducing the impact of link failures.</li>
<li><strong>Heterogeneity Management:</strong> Addressing the complexities of managing different hardware models within the DSF fabric.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>DSF represents a significant advancement in network technology for AI training. By addressing the limitations of traditional networks and incorporating innovative features like Input Balanced Mode, DSF enables the creation of highly scalable, resilient, and efficient AI infrastructure.  The ongoing development of DSF will continue to drive innovation in AI and accelerate the development of next-generation AI models.</p> </div> </article> </div> <div class="back-link" data-astro-cid-rkg3zjxi><a href="/ai-news/" data-astro-cid-rkg3zjxi>← Back to AI News</a></div>  </main> <footer class="site-footer container"> <p>© 2025 AREZKI El Mehdi • <a href="https://github.com/earezki">GitHub</a></p> </footer>  <script>
      // Read/Unread article tracking
      (function() {
        const STORAGE_KEY = 'readArticles';
        
        function getReadArticles() {
          try {
            const data = localStorage.getItem(STORAGE_KEY);
            return data ? JSON.parse(data) : [];
          } catch (e) {
            return [];
          }
        }
        
        function markArticleAsRead(url) {
          try {
            const readArticles = getReadArticles();
            if (!readArticles.includes(url)) {
              readArticles.push(url);
              localStorage.setItem(STORAGE_KEY, JSON.stringify(readArticles));
            }
          } catch (e) {
            console.error('Failed to mark article as read:', e);
          }
        }
        
        function isArticleRead(url) {
          const readArticles = getReadArticles();
          return readArticles.includes(url);
        }
        
        // Update post cards on list pages
        function updatePostCards() {
          const postCards = document.querySelectorAll('.post-card[data-article-url]');
          postCards.forEach(function(card) {
            const url = card.getAttribute('data-article-url');
            if (url) {
              if (isArticleRead(url)) {
                card.classList.add('read');
                card.classList.remove('unread');
              } else {
                card.classList.add('unread');
                card.classList.remove('read');
              }
            }
          });
        }
        
        // Mark current article as read (on article pages)
        function markCurrentArticleAsRead() {
          const isArticlePage = document.querySelector('.post-body');
          if (isArticlePage) {
            const currentPath = window.location.pathname;
            markArticleAsRead(currentPath);
          }
        }
        
        // Initialize function
        function init() {
          updatePostCards();
          markCurrentArticleAsRead();
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', init);
        
        // Handle back/forward navigation (bfcache)
        window.addEventListener('pageshow', function(event) {
          // If page is loaded from cache, update the cards
          if (event.persisted) {
            init();
          }
        });
      })();
    </script> </body> </html> 